<!DOCTYPE html>
<html>
<head>
<title>暑假讀書紀錄.md</title>
<meta http-equiv="Content-type" content="text/html;charset=UTF-8">

<style>
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

body {
	font-family: "Segoe WPC", "Segoe UI", "SFUIText-Light", "HelveticaNeue-Light", sans-serif, "Droid Sans Fallback";
	font-size: 14px;
	padding: 0 12px;
	line-height: 22px;
	word-wrap: break-word;
}

#code-csp-warning {
	position: fixed;
	top: 0;
	right: 0;
	color: white;
	margin: 16px;
	text-align: center;
	font-size: 12px;
	font-family: sans-serif;
	background-color:#444444;
	cursor: pointer;
	padding: 6px;
	box-shadow: 1px 1px 1px rgba(0,0,0,.25);
}

#code-csp-warning:hover {
	text-decoration: none;
	background-color:#007acc;
	box-shadow: 2px 2px 2px rgba(0,0,0,.25);
}


body.scrollBeyondLastLine {
	margin-bottom: calc(100vh - 22px);
}

body.showEditorSelection .code-line {
	position: relative;
}

body.showEditorSelection .code-active-line:before,
body.showEditorSelection .code-line:hover:before {
	content: "";
	display: block;
	position: absolute;
	top: 0;
	left: -12px;
	height: 100%;
}

body.showEditorSelection li.code-active-line:before,
body.showEditorSelection li.code-line:hover:before {
	left: -30px;
}

.vscode-light.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(0, 0, 0, 0.15);
}

.vscode-light.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(0, 0, 0, 0.40);
}

.vscode-dark.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 255, 255, 0.4);
}

.vscode-dark.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 255, 255, 0.60);
}

.vscode-high-contrast.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 160, 0, 0.7);
}

.vscode-high-contrast.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 160, 0, 1);
}

img {
	max-width: 100%;
	max-height: 100%;
}

a {
	color: #4080D0;
	text-decoration: none;
}

a:focus,
input:focus,
select:focus,
textarea:focus {
	outline: 1px solid -webkit-focus-ring-color;
	outline-offset: -1px;
}

hr {
	border: 0;
	height: 2px;
	border-bottom: 2px solid;
}

h1 {
	padding-bottom: 0.3em;
	line-height: 1.2;
	border-bottom-width: 1px;
	border-bottom-style: solid;
}

h1, h2, h3 {
	font-weight: normal;
}

h1 code,
h2 code,
h3 code,
h4 code,
h5 code,
h6 code {
	font-size: inherit;
	line-height: auto;
}

a:hover {
	color: #4080D0;
	text-decoration: underline;
}

table {
	border-collapse: collapse;
}

table > thead > tr > th {
	text-align: left;
	border-bottom: 1px solid;
}

table > thead > tr > th,
table > thead > tr > td,
table > tbody > tr > th,
table > tbody > tr > td {
	padding: 5px 10px;
}

table > tbody > tr + tr > td {
	border-top: 1px solid;
}

blockquote {
	margin: 0 7px 0 5px;
	padding: 0 16px 0 10px;
	border-left: 5px solid;
}

code {
	font-family: Menlo, Monaco, Consolas, "Droid Sans Mono", "Courier New", monospace, "Droid Sans Fallback";
	font-size: 14px;
	line-height: 19px;
}

body.wordWrap pre {
	white-space: pre-wrap;
}

.mac code {
	font-size: 12px;
	line-height: 18px;
}

pre:not(.hljs),
pre.hljs code > div {
	padding: 16px;
	border-radius: 3px;
	overflow: auto;
}

/** Theming */

.vscode-light,
.vscode-light pre code {
	color: rgb(30, 30, 30);
}

.vscode-dark,
.vscode-dark pre code {
	color: #DDD;
}

.vscode-high-contrast,
.vscode-high-contrast pre code {
	color: white;
}

.vscode-light code {
	color: #A31515;
}

.vscode-dark code {
	color: #D7BA7D;
}

.vscode-light pre:not(.hljs),
.vscode-light code > div {
	background-color: rgba(220, 220, 220, 0.4);
}

.vscode-dark pre:not(.hljs),
.vscode-dark code > div {
	background-color: rgba(10, 10, 10, 0.4);
}

.vscode-high-contrast pre:not(.hljs),
.vscode-high-contrast code > div {
	background-color: rgb(0, 0, 0);
}

.vscode-high-contrast h1 {
	border-color: rgb(0, 0, 0);
}

.vscode-light table > thead > tr > th {
	border-color: rgba(0, 0, 0, 0.69);
}

.vscode-dark table > thead > tr > th {
	border-color: rgba(255, 255, 255, 0.69);
}

.vscode-light h1,
.vscode-light hr,
.vscode-light table > tbody > tr + tr > td {
	border-color: rgba(0, 0, 0, 0.18);
}

.vscode-dark h1,
.vscode-dark hr,
.vscode-dark table > tbody > tr + tr > td {
	border-color: rgba(255, 255, 255, 0.18);
}

.vscode-light blockquote,
.vscode-dark blockquote {
	background: rgba(127, 127, 127, 0.1);
	border-color: rgba(0, 122, 204, 0.5);
}

.vscode-high-contrast blockquote {
	background: transparent;
	border-color: #fff;
}
</style>

<style>
/* Tomorrow Theme */
/* http://jmblog.github.com/color-themes-for-google-code-highlightjs */
/* Original theme - https://github.com/chriskempson/tomorrow-theme */

/* Tomorrow Comment */
.hljs-comment,
.hljs-quote {
	color: #8e908c;
}

/* Tomorrow Red */
.hljs-variable,
.hljs-template-variable,
.hljs-tag,
.hljs-name,
.hljs-selector-id,
.hljs-selector-class,
.hljs-regexp,
.hljs-deletion {
	color: #c82829;
}

/* Tomorrow Orange */
.hljs-number,
.hljs-built_in,
.hljs-builtin-name,
.hljs-literal,
.hljs-type,
.hljs-params,
.hljs-meta,
.hljs-link {
	color: #f5871f;
}

/* Tomorrow Yellow */
.hljs-attribute {
	color: #eab700;
}

/* Tomorrow Green */
.hljs-string,
.hljs-symbol,
.hljs-bullet,
.hljs-addition {
	color: #718c00;
}

/* Tomorrow Blue */
.hljs-title,
.hljs-section {
	color: #4271ae;
}

/* Tomorrow Purple */
.hljs-keyword,
.hljs-selector-tag {
	color: #8959a8;
}

.hljs {
	display: block;
	overflow-x: auto;
	color: #4d4d4c;
	padding: 0.5em;
}

.hljs-emphasis {
	font-style: italic;
}

.hljs-strong {
	font-weight: bold;
}
</style>

<style>
/*
 * Markdown PDF CSS
 */

 body {
	font-family:  "Meiryo", "Segoe WPC", "Segoe UI", "SFUIText-Light", "HelveticaNeue-Light", sans-serif, "Droid Sans Fallback";
}

pre {
	background-color: #f8f8f8;
	border: 1px solid #cccccc;
	border-radius: 3px;
	overflow-x: auto;
	white-space: pre-wrap;
	overflow-wrap: break-word;
}

pre:not(.hljs) {
	padding: 23px;
	line-height: 19px;
}

blockquote {
	background: rgba(127, 127, 127, 0.1);
	border-color: rgba(0, 122, 204, 0.5);
}

.emoji {
	height: 1.4em;
}

/* for inline code */
:not(pre):not(.hljs) > code {
	color: #C9AE75; /* Change the old color so it seems less like an error */
	font-size: inherit;
}

/* Page Break : use <div class="page"/> to insert page break
-------------------------------------------------------- */
.page {
	page-break-after: always;
}

</style>

</head>
<body>
<h1 id="20190705">2019.07.05</h1>
<h2 id="udemy-%E6%B7%B1%E5%85%A5%E6%B7%BA%E5%87%BAiphone%E9%96%8B%E7%99%BC%EF%BC%88%E4%BD%BF%E7%94%A8swift-4%EF%BC%89">Udemy 深入淺出iPhone開發（使用swift 4）</h2>
<hr>
<h3 id="%E7%AC%AC%E4%B8%80%E7%AF%80-%E4%BD%A0%E7%9A%84%E7%AC%AC%E4%B8%80%E6%AC%BE%E6%87%89%E7%94%A8%E7%A8%8B%E5%BC%8F%EF%BC%9Ahello-swift">第一節 你的第一款應用程式：Hello swift</h3>
<ul>
<li>申請成為開發者</li>
<li>熟悉、使用xcode</li>
<li>了解button連結 (action)</li>
<li>了解label連結 (outlet)</li>
<li><code>viewDidLoad()</code> 是在畫面剛讀入時執行</li>
<li><code>didReceiveMemoryWarning()</code> 是在記憶體不夠時執行</li>
<li>連結元件到程式碼是按住control鍵拖曳</li>
</ul>
<hr>
<h3 id="%E7%AC%AC%E4%BA%8C%E7%AF%80-swift%E8%AA%9E%E8%A8%80%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B%EF%BC%9A%E5%9F%BA%E7%A4%8E%E5%9E%8B%E5%88%A5">第二節 swift語言快速上手：基礎型別</h3>
<ul>
<li>
<p>playground</p>
</li>
<li>
<p>變數宣告 <code>var a = 5</code></p>
</li>
<li>
<p>常數宣告 <code>let b = 2.5</code></p>
</li>
<li>
<p>變數/常數+型別</p>
<pre class="hljs"><code><div><span class="hljs-keyword">var</span> age:<span class="hljs-type">Int</span> = <span class="hljs-number">4</span>
<span class="hljs-keyword">var</span> weight:<span class="hljs-type">Float</span> = <span class="hljs-number">66.6</span>
<span class="hljs-keyword">let</span> pi:<span class="hljs-type">Double</span> = <span class="hljs-number">3.14</span>
</div></code></pre>
</li>
<li>
<p>浮點數</p>
<pre class="hljs"><code><div>age / weight 
<span class="hljs-comment">//錯誤，整數不能直接除小數</span>
<span class="hljs-type">Float</span>(age) / weight
<span class="hljs-comment">//須先轉型成Float，再做除法</span>
<span class="hljs-number">5</span>/<span class="hljs-number">2</span> 
<span class="hljs-comment">// 2，整數除整數會無條件捨去到整數位</span>
<span class="hljs-type">Double</span>(<span class="hljs-number">5</span>)/<span class="hljs-number">2</span> 
<span class="hljs-comment">// 2.5，若要得到正確答案，須先轉型</span>
</div></code></pre>
</li>
<li>
<p>布林值<code>var isLocked:Bool = true</code></p>
</li>
<li>
<p>字串</p>
<pre class="hljs"><code><div><span class="hljs-keyword">var</span> language:<span class="hljs-type">String</span> = <span class="hljs-string">"swift"</span>
<span class="hljs-keyword">let</span> hello:<span class="hljs-type">String</span> = <span class="hljs-string">"Hello"</span>

hello + <span class="hljs-string">" "</span> + language
<span class="hljs-comment">//output: "hello swift"，連結字串用加號</span>
<span class="hljs-keyword">var</span> str = <span class="hljs-string">"my language is <span class="hljs-subst">\(language)</span>"</span>
<span class="hljs-comment">//output: "my language is swift"，也可以用\(變數)來加入字串</span>
<span class="hljs-string">"my language is \"swift\""</span>
<span class="hljs-comment">//output: "my language is "swift""，若字串中有雙引號，要在雙引號前放上跳脫字元\</span>

<span class="hljs-keyword">var</span> str = <span class="hljs-string">"aAbBCc"</span>
str.lowercased() <span class="hljs-comment">//output: "aabbcc"</span>
str.uppercased() <span class="hljs-comment">//output: "AABBCC"</span>

<span class="hljs-keyword">var</span> str = <span class="hljs-string">""</span><span class="hljs-string">"
a b c
d e f
g h i
"</span><span class="hljs-string">""</span>
<span class="hljs-comment">//output: "a b c\nd e f\ng h i"，多行字串用"""包起來</span>
</div></code></pre>
</li>
</ul>
<hr>
<h3 id="%E7%AC%AC%E4%B8%89%E7%AF%80-%E9%9B%86%E5%90%88%E5%9E%8B%E5%88%A5">第三節 集合型別</h3>
<ul>
<li>陣列<pre class="hljs"><code><div><span class="hljs-comment">//索引值從0開始</span>
<span class="hljs-keyword">var</span> array:[<span class="hljs-type">String</span>] = [<span class="hljs-string">"A"</span>,<span class="hljs-string">"b"</span>,<span class="hljs-string">"c"</span>,<span class="hljs-string">"D"</span>,<span class="hljs-string">"EF"</span>]
<span class="hljs-comment">//索引值       0   1   2   3   4</span>
array[<span class="hljs-number">0</span>] <span class="hljs-comment">//output: "A"</span>
array[<span class="hljs-number">3</span>] <span class="hljs-comment">//output: "D"</span>
array[<span class="hljs-number">5</span>] <span class="hljs-comment">//錯誤，沒有5號元素</span>

array.<span class="hljs-built_in">count</span> <span class="hljs-comment">//output: 5，計算陣列有多少成員</span>

array.append(<span class="hljs-string">"ghi"</span>) <span class="hljs-comment">//array: ["A", "b", "c", "D", "EF", "ghi"]</span>
<span class="hljs-comment">// array.append():在陣列後面加入新成員</span>

array.insert(<span class="hljs-string">"new"</span>, at: <span class="hljs-number">3</span>) 
<span class="hljs-comment">// array: ["A", "b", "c","new", "D", "EF", "ghi"]</span>
<span class="hljs-comment">// array.insert():在指定位址插入新成員</span>

array.remove(at: <span class="hljs-number">2</span>)
<span class="hljs-comment">// array: ["A", "b", "new", "D", "EF", "ghi"]</span>
<span class="hljs-comment">// array.remove():刪除指定位置的成員</span>

array.removeLast()
<span class="hljs-comment">// array: ["A", "b", "new", "D", "EF"]</span>
<span class="hljs-comment">// array.removeLast():刪除最後一個元素</span>

array.removeFirst()
<span class="hljs-comment">// array: ["b", "new", "D", "EF"]</span>
<span class="hljs-comment">// array.removeFirst():刪除第一個元素</span>

array.append(<span class="hljs-number">1</span>)
<span class="hljs-comment">//錯誤，array只能存放同一型別的成員</span>

array.<span class="hljs-built_in">reverse</span>()
<span class="hljs-comment">// array: ["EF", "D", "new", "b"]</span>
<span class="hljs-comment">// array.reverse():將array反轉</span>

<span class="hljs-keyword">var</span> array2:[<span class="hljs-type">String</span>] = [<span class="hljs-string">"1"</span>,<span class="hljs-string">"2"</span>,<span class="hljs-string">"3"</span>]

array = array + array2
<span class="hljs-comment">// array: ["EF", "D", "new", "b", "1", "2", "3"]</span>
<span class="hljs-comment">// array加法：把兩個陣列連起來</span>

<span class="hljs-comment">//建立空陣列的方法</span>
<span class="hljs-keyword">var</span> array:[<span class="hljs-type">Int</span>] = []
<span class="hljs-keyword">var</span> array2 = [<span class="hljs-type">Int</span>]()
</div></code></pre>
</li>
<li>字典<pre class="hljs"><code><div><span class="hljs-keyword">var</span> e2c:[<span class="hljs-type">String</span>:<span class="hljs-type">String</span>] = [<span class="hljs-string">"one"</span>:<span class="hljs-string">"一"</span>,<span class="hljs-string">"two"</span>:<span class="hljs-string">"二"</span>,<span class="hljs-string">"three"</span>:<span class="hljs-string">"三"</span>]
<span class="hljs-comment">// 鍵值對格式：key:value，每組鍵值對間用逗號隔開</span>
e2c[<span class="hljs-string">"one"</span>]   <span class="hljs-comment">// output: "一"</span>
e2c[<span class="hljs-string">"three"</span>] <span class="hljs-comment">// output: "三"</span>
e2c[<span class="hljs-string">"two"</span>]   <span class="hljs-comment">// output: "二"</span>
e2c[<span class="hljs-string">"ten"</span>]   <span class="hljs-comment">// output: nil</span>
<span class="hljs-comment">// 用不存在的key取值會得到nil</span>

<span class="hljs-comment">// 更新value的方法</span>
e2c[<span class="hljs-string">"one"</span>] = <span class="hljs-string">"壹"</span>
<span class="hljs-comment">// e2c: ["one": "壹", "two": "二", "three": "三"]</span>
e2c.updateValue(<span class="hljs-string">"一"</span>, forKey: <span class="hljs-string">"one"</span>)
<span class="hljs-comment">// e2c: ["one": "一", "two": "二", "three": "三"]</span>

<span class="hljs-comment">// 加入新的鍵值對</span>
e2c[<span class="hljs-string">"four"</span>] = <span class="hljs-string">"四"</span>
e2c.updateValue(<span class="hljs-string">"五"</span>, forKey: <span class="hljs-string">"five"</span>)
<span class="hljs-comment">// e2c: ["one": "一", "three": "三", "four": "四", "five": "五", "two": "二"]</span>

<span class="hljs-comment">// 刪除鍵值對</span>
e2c[<span class="hljs-string">"five"</span>] = <span class="hljs-literal">nil</span>; <span class="hljs-comment">// nil代表空</span>
e2c.removeValue(forKey: <span class="hljs-string">"four"</span>)
<span class="hljs-comment">// e2c: ["one": "一", "two": "二", "three": "三"]</span>
</div></code></pre>
</li>
</ul>
<hr>
<h3 id="%E7%AC%AC%E5%9B%9B%E7%AF%80-%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%EF%BC%9A%E5%81%9A%E5%87%BA%E7%AC%AC%E4%BA%8C%E6%AC%BE%E8%A7%A3%E9%8E%96%E5%A4%A7%E5%B8%AB%E9%81%8A%E6%88%B2app">第四節 流程控制：做出第二款解鎖大師遊戲APP</h3>
<ul>
<li>if判斷式<pre class="hljs"><code><div><span class="hljs-keyword">var</span> price = <span class="hljs-number">80</span>;

<span class="hljs-keyword">if</span> price &lt; <span class="hljs-number">70</span>{
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"Very cheap"</span>)
} <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> price &gt; <span class="hljs-number">130</span>{
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"Are you crazy?"</span>)
} <span class="hljs-keyword">else</span> {
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"buy it"</span>)
} 

<span class="hljs-comment">// &amp;&amp; : 且， || : 或</span>
</div></code></pre>
</li>
<li>switch<pre class="hljs"><code><div><span class="hljs-keyword">var</span> price = <span class="hljs-number">80</span>
<span class="hljs-keyword">switch</span> price {
<span class="hljs-keyword">case</span> <span class="hljs-number">20</span>...<span class="hljs-number">40</span>:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"cheap"</span>)
<span class="hljs-keyword">case</span> <span class="hljs-number">70</span>,<span class="hljs-number">80</span>,<span class="hljs-number">90</span>:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"ok"</span>)
<span class="hljs-keyword">case</span> <span class="hljs-number">200</span>:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"expensive"</span>)
<span class="hljs-keyword">default</span>:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"???"</span>)
}
<span class="hljs-comment">// default不可省略</span>
<span class="hljs-comment">// 20...40 是指20到40都會進入這個case</span>
<span class="hljs-comment">// 70,80,90 是指70,80,90這三個會進入這個case</span>
</div></code></pre>
</li>
<li>解鎖大師遊戲APP<pre class="hljs"><code><div><span class="hljs-comment">// 取亂數</span>
<span class="hljs-keyword">import</span> GameKit
<span class="hljs-keyword">var</span> answer:<span class="hljs-type">Int</span> = <span class="hljs-type">GKRandomSource</span>.sharedRandom().nextInt(upperBound: <span class="hljs-number">100</span>)+<span class="hljs-number">1</span>

<span class="hljs-comment">// 修改StatusBarStyle</span>
<span class="hljs-keyword">override</span> <span class="hljs-keyword">var</span> preferredStatusBarStyle: <span class="hljs-type">UIStatusBarStyle</span>{
    <span class="hljs-keyword">return</span> .lightContent
}

<span class="hljs-comment">// 修改背景圖</span>
<span class="hljs-meta">@IBOutlet</span> <span class="hljs-keyword">weak</span> <span class="hljs-keyword">var</span> background: <span class="hljs-type">UIImageView</span>!
background.image = <span class="hljs-type">UIImage</span>(named: <span class="hljs-string">"Finish"</span>)

<span class="hljs-comment">// 修改messageLabel.text</span>
messageLabel.text = <span class="hljs-string">"Guess a number between <span class="hljs-subst">\(<span class="hljs-built_in">min</span>)</span> to <span class="hljs-subst">\(<span class="hljs-built_in">max</span>)</span>"</span>
</div></code></pre>
</li>
</ul>
<p><img src="2019-07-04.png" alt=""></p>
<hr>
<h1 id="20190719">2019.07.19</h1>
<h3 id="%E7%AC%AC%E4%BA%94%E7%AF%80-%E9%87%8D%E8%A4%87%E5%81%9A%E4%BA%8B%E6%83%85%E7%9A%84%E5%A5%BD%E5%B9%AB%E6%89%8B%EF%BC%9A%E8%BF%B4%E5%9C%88">第五節 重複做事情的好幫手：迴圈</h3>
<ul>
<li>for loop<pre class="hljs"><code><div><span class="hljs-comment">// 格式</span>
<span class="hljs-keyword">for</span> 自己設定的名字 <span class="hljs-keyword">in</span> 陣列的名字{
    <span class="hljs-comment">// 要執行的程式碼</span>
}
<span class="hljs-keyword">let</span> array:[<span class="hljs-type">Int</span>] = [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>]
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> array{
    <span class="hljs-built_in">print</span>(i)
}
<span class="hljs-comment">// output: "1\n2\n3\n4\n5\n"</span>

<span class="hljs-keyword">var</span> array2:[<span class="hljs-type">Int</span>] = []
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> array{
    array2.append(i+<span class="hljs-number">2</span>)
}
<span class="hljs-comment">// array2: [3, 4, 5, 6, 7]</span>

<span class="hljs-keyword">let</span> strArr:[<span class="hljs-type">String</span>] = [<span class="hljs-string">"Acs"</span>,<span class="hljs-string">"CcC"</span>,<span class="hljs-string">"ewf"</span>,<span class="hljs-string">"cAc"</span>]
<span class="hljs-keyword">var</span> strArr2:[<span class="hljs-type">String</span>] = []
<span class="hljs-keyword">for</span> str <span class="hljs-keyword">in</span> strArr{
    strArr2.append(str.lowercased())
}
<span class="hljs-comment">// output: ["acs", "ccc", "ewf", "cac"]</span>

<span class="hljs-comment">// 全閉範圍區間 1...5 指的是 (1,2,3,4,5)</span>
<span class="hljs-comment">// 半壁範圍區間 1..&lt;5 指的是 (1,2,3,4)</span>
<span class="hljs-keyword">for</span> index <span class="hljs-keyword">in</span> <span class="hljs-number">1</span>...<span class="hljs-number">100</span>{
    <span class="hljs-built_in">print</span>(index)
}
<span class="hljs-comment">// 從1印到100</span>

<span class="hljs-comment">// 若for 中用不到index 可將index改為_</span>
<span class="hljs-keyword">for</span> <span class="hljs-number">_</span> <span class="hljs-keyword">in</span> <span class="hljs-number">1</span>...<span class="hljs-number">3</span>{
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"HI"</span>)
}
<span class="hljs-comment">// 迴圈做3次</span>

<span class="hljs-comment">// 九九乘法表</span>
<span class="hljs-keyword">for</span> num1 <span class="hljs-keyword">in</span> <span class="hljs-number">1</span>..&lt;<span class="hljs-number">10</span>{
    <span class="hljs-keyword">for</span> num2 <span class="hljs-keyword">in</span> <span class="hljs-number">1</span>..&lt;<span class="hljs-number">10</span>{
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"<span class="hljs-subst">\(num1)</span> * <span class="hljs-subst">\(num2)</span> = <span class="hljs-subst">\(num1*num2)</span>"</span>)
    }
}

<span class="hljs-keyword">for</span> index <span class="hljs-keyword">in</span> <span class="hljs-number">1</span>...<span class="hljs-number">10</span> <span class="hljs-keyword">where</span> index%<span class="hljs-number">2</span> == <span class="hljs-number">1</span>{
    <span class="hljs-built_in">print</span>(index)
}
<span class="hljs-comment">// output: "1\n3\n5\n7\n9\n"</span>

<span class="hljs-comment">// for + dictionary</span>
<span class="hljs-keyword">let</span> e2c:[<span class="hljs-type">String</span>:<span class="hljs-type">String</span>] = [<span class="hljs-string">"one"</span>:<span class="hljs-string">"一"</span>,<span class="hljs-string">"two"</span>:<span class="hljs-string">"二"</span>,<span class="hljs-string">"three"</span>:<span class="hljs-string">"三"</span>]
<span class="hljs-keyword">for</span> (key,value) <span class="hljs-keyword">in</span> e2c{
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"<span class="hljs-subst">\(key)</span>:<span class="hljs-subst">\(value)</span>"</span>)
}
<span class="hljs-comment">// output: "three:三\ntwo:二\none:一\n"</span>
</div></code></pre>
</li>
<li>tuple 元組，把很多資料用小括號包起來<pre class="hljs"><code><div><span class="hljs-comment">// (key,value) : 稱為元組(tuple)，把很多資料用小括號包起來</span>

<span class="hljs-keyword">let</span> colors = (<span class="hljs-string">"red"</span>,<span class="hljs-string">"orange"</span>,<span class="hljs-string">"yellow"</span>,<span class="hljs-string">"green"</span>)
<span class="hljs-comment">// 元組用 colors.0 的方式存取</span>

<span class="hljs-comment">// tuple 中可存不同型別</span>
<span class="hljs-keyword">let</span> tuple = (<span class="hljs-string">"a"</span>,<span class="hljs-number">12</span>,<span class="hljs-literal">true</span>,<span class="hljs-number">3.14</span>,[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>])
<span class="hljs-keyword">let</span> e2c = (one:<span class="hljs-string">"一"</span>,two:<span class="hljs-string">"二"</span>,three:<span class="hljs-string">"三"</span>)
e2c.one <span class="hljs-comment">// output: "一"</span>
e2c.<span class="hljs-number">0</span>   <span class="hljs-comment">// output: "一"</span>
</div></code></pre>
</li>
<li>while loop<pre class="hljs"><code><div><span class="hljs-keyword">var</span> index = <span class="hljs-number">1</span>
<span class="hljs-keyword">while</span> index &lt;= <span class="hljs-number">10</span> {
    <span class="hljs-built_in">print</span>(index)
    index += <span class="hljs-number">1</span>
}

<span class="hljs-comment">// while + array</span>
<span class="hljs-keyword">let</span> array:[<span class="hljs-type">Int</span>] = [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>]
<span class="hljs-keyword">var</span> index = <span class="hljs-number">0</span>
<span class="hljs-keyword">while</span> index &lt; array.<span class="hljs-built_in">count</span>{
    <span class="hljs-built_in">print</span>(array[index])
    index += <span class="hljs-number">1</span>
}

<span class="hljs-comment">// repeat-while</span>
<span class="hljs-keyword">repeat</span>{
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"just do it <span class="hljs-subst">\(index)</span> times."</span>)
    index += <span class="hljs-number">1</span>
}<span class="hljs-keyword">while</span> index &lt; <span class="hljs-number">11</span>
<span class="hljs-comment">// 從1印到10</span>
<span class="hljs-comment">// repeat-while 即使條件不符合，最少會執行一次，類似其他的do-while</span>
</div></code></pre>
</li>
</ul>
<hr>
<h3 id="%E7%AC%AC%E5%85%AD%E7%AF%80-%E5%87%BD%E5%BC%8F%EF%BC%9A%E5%91%BC%E5%8F%AB%E6%88%91%EF%BC%81%E4%BD%BF%E5%91%BD%E5%BF%85%E9%81%94%EF%BC%81">第六節 函式：呼叫我！使命必達！</h3>
<ul>
<li>DRY:Don't Repeat Youself : 避免使用重複程式碼</li>
<li>function<pre class="hljs"><code><div><span class="hljs-comment">// 定義函式 : 函式還不會執行</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">functionName</span><span class="hljs-params">(parameter)</span></span>{
    <span class="hljs-comment">// 會需要重複做的事情</span>
}
<span class="hljs-comment">// 呼叫函式 ： 函式執行</span>
functionName(parameter)

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">eat</span><span class="hljs-params">(foodName:String)</span></span>{
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"eat "</span>+foodName)
}
eat(foodName: <span class="hljs-string">"hamburger"</span>)
<span class="hljs-comment">// output: eat hamburger</span>
eat(foodName: <span class="hljs-string">"pizza"</span>)
<span class="hljs-comment">// output: eat pizza</span>

<span class="hljs-comment">// 有回傳值的函式</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">add</span><span class="hljs-params">(num1:Int,num2:Int)</span></span> -&gt; <span class="hljs-type">Int</span>{
    <span class="hljs-keyword">return</span> num1 + num2
}
<span class="hljs-keyword">let</span> ans = add(num1: <span class="hljs-number">2</span>, num2: <span class="hljs-number">6</span>)

<span class="hljs-comment">// 沒有回傳值的寫法</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">functionName</span><span class="hljs-params">(parameter)</span></span>{
}
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">functionName</span><span class="hljs-params">(parameter)</span></span> -&gt; <span class="hljs-type">Void</span>{
}
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">functionName</span><span class="hljs-params">(parameter)</span></span> -&gt; (){
}

<span class="hljs-comment">// 外部參數名： withWidth、andHeight</span>
<span class="hljs-comment">// 內部參數名： width、height</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">calculateArea</span><span class="hljs-params">(withWidth width:Float, andHeight height:Float)</span></span> -&gt; <span class="hljs-type">Float</span>{
    <span class="hljs-keyword">return</span> width * height
}
calculateArea(withWidth: <span class="hljs-number">12.3</span>, andHeight: <span class="hljs-number">45.6</span>)

<span class="hljs-comment">// 省略外部參數名</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">buy</span><span class="hljs-params">(<span class="hljs-number">_</span> thing:String)</span></span>{
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"buy "</span>+thing)
}
buy(<span class="hljs-string">"macbook"</span>)
</div></code></pre>
</li>
<li>變數可視範圍
<ul>
<li>大括號裡面看得到外面<pre class="hljs"><code><div><span class="hljs-keyword">var</span> a:<span class="hljs-type">Int</span> = <span class="hljs-number">10</span>
<span class="hljs-keyword">if</span> <span class="hljs-literal">true</span>{
    <span class="hljs-built_in">print</span>(a)
}
<span class="hljs-comment">// output: 10</span>
</div></code></pre>
</li>
<li>大括號外面看不到裡面<pre class="hljs"><code><div>
<span class="hljs-keyword">if</span> <span class="hljs-literal">true</span>{
    <span class="hljs-keyword">let</span> i = <span class="hljs-number">12</span>
}
<span class="hljs-built_in">print</span>(i)
<span class="hljs-comment">// output: 5</span>
</div></code></pre>
</li>
<li>大括號創造了新的命名空間<pre class="hljs"><code><div><span class="hljs-keyword">let</span> i = <span class="hljs-number">5</span>
<span class="hljs-keyword">if</span> <span class="hljs-literal">true</span>{
    <span class="hljs-keyword">let</span> i = <span class="hljs-number">12</span>
}
<span class="hljs-built_in">print</span>(i)
<span class="hljs-comment">// output: 5</span>
</div></code></pre>
</li>
</ul>
</li>
</ul>
<hr>
<h3 id="%E7%AC%AC%E4%B8%83%E7%AF%80-%E9%96%89%E5%8C%85%EF%BC%9A%E8%AB%8B%E5%85%88%E6%83%B3%E6%88%90%E9%80%99%E6%98%AF%E6%B2%92%E6%9C%89%E5%90%8D%E5%AD%97%E7%9A%84%E5%87%BD%E5%BC%8F">第七節 閉包：請先想成這是沒有名字的函式</h3>
<ul>
<li>closure(閉包)</li>
<li>沒有外部參數名<pre class="hljs"><code><div><span class="hljs-keyword">let</span> helloClosure = {
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"hello"</span>)
}
helloClosure()

<span class="hljs-keyword">let</span> add = {
    (num1:<span class="hljs-type">Int</span>,num2:<span class="hljs-type">Int</span>) -&gt; <span class="hljs-type">Int</span> <span class="hljs-keyword">in</span>
    <span class="hljs-keyword">return</span> num1 + num2
}
add(<span class="hljs-number">3</span>,<span class="hljs-number">5</span>)
<span class="hljs-comment">// closure也有型別</span>
<span class="hljs-comment">// helloClosure 的型別是()-&gt;()</span>
<span class="hljs-comment">// add 的型別是(Int,Int)-&gt;Int</span>
</div></code></pre>
</li>
<li>可當作變數傳入函式<pre class="hljs"><code><div><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">calculate</span><span class="hljs-params">(num1:Int,num2:Int,operation:<span class="hljs-params">(Int,Int)</span></span></span>-&gt;<span class="hljs-type">Int</span>){
    <span class="hljs-built_in">print</span>(operation(num1,num2))
}
<span class="hljs-keyword">let</span> add = {
    (num1:<span class="hljs-type">Int</span>,num2:<span class="hljs-type">Int</span>) -&gt; <span class="hljs-type">Int</span> <span class="hljs-keyword">in</span>
    <span class="hljs-keyword">return</span> num1 + num2
}
calculate(num1: <span class="hljs-number">3</span>, num2: <span class="hljs-number">4</span>, operation: add)
</div></code></pre>
</li>
<li>簡寫closure
<ol>
<li>已經能夠確認參數與回傳值得型別的話，可以刪除，可以刪除Closure裡面參數跟回傳值得型別<pre class="hljs"><code><div><span class="hljs-comment">// before</span>
<span class="hljs-keyword">let</span> add = {
(num1:<span class="hljs-type">Int</span>,num2:<span class="hljs-type">Int</span>) -&gt; <span class="hljs-type">Int</span> <span class="hljs-keyword">in</span>
<span class="hljs-keyword">return</span> num1 + num2
}
<span class="hljs-comment">// after</span>
<span class="hljs-keyword">let</span> add:(<span class="hljs-type">Int</span>,<span class="hljs-type">Int</span>)-&gt;<span class="hljs-type">Int</span> = {
    (num1,num2) <span class="hljs-keyword">in</span>
    <span class="hljs-keyword">return</span> num1 + num2
}
</div></code></pre>
</li>
<li>程式碼只有一行的情況下可以刪除<code>return</code><pre class="hljs"><code><div><span class="hljs-comment">// before</span>
<span class="hljs-keyword">let</span> add:(<span class="hljs-type">Int</span>,<span class="hljs-type">Int</span>)-&gt;<span class="hljs-type">Int</span> = {
    (num1,num2) <span class="hljs-keyword">in</span>
    <span class="hljs-keyword">return</span> num1 + num2
}
<span class="hljs-comment">// after</span>
<span class="hljs-keyword">let</span> add:(<span class="hljs-type">Int</span>,<span class="hljs-type">Int</span>)-&gt;<span class="hljs-type">Int</span> = {
    (num1,num2) <span class="hljs-keyword">in</span> num1 + num2
}
</div></code></pre>
</li>
<li>用<code>$0</code>,<code>$1</code>,<code>$2</code>...代替傳進來的參數名稱<pre class="hljs"><code><div><span class="hljs-comment">// before</span>
<span class="hljs-keyword">let</span> add:(<span class="hljs-type">Int</span>,<span class="hljs-type">Int</span>)-&gt;<span class="hljs-type">Int</span> = {
    (num1,num2) <span class="hljs-keyword">in</span> num1 + num2
}
<span class="hljs-comment">// after</span>
<span class="hljs-keyword">let</span> add:(<span class="hljs-type">Int</span>,<span class="hljs-type">Int</span>)-&gt;<span class="hljs-type">Int</span> = { $<span class="hljs-number">0</span> + $<span class="hljs-number">1</span> }
</div></code></pre>
</li>
<li>如果是最後或是唯一個參數，可把closure放在參數小括號外<pre class="hljs"><code><div><span class="hljs-comment">// before</span>
<span class="hljs-keyword">let</span> numberArrayAddTen = numberArray.<span class="hljs-built_in">map</span>({ $<span class="hljs-number">0</span>+<span class="hljs-number">10</span> })
<span class="hljs-comment">// after</span>
<span class="hljs-keyword">let</span> numberArrayAddTen = numberArray.<span class="hljs-built_in">map</span>(){ $<span class="hljs-number">0</span>+<span class="hljs-number">10</span> }
</div></code></pre>
</li>
<li>如果是唯一個參數，可省略參數小括號<pre class="hljs"><code><div><span class="hljs-comment">// before</span>
<span class="hljs-keyword">let</span> numberArrayAddTen = numberArray.<span class="hljs-built_in">map</span>(){ $<span class="hljs-number">0</span>+<span class="hljs-number">10</span> }
<span class="hljs-comment">// after</span>
<span class="hljs-keyword">let</span> numberArrayAddTen = numberArray.<span class="hljs-built_in">map</span>{ $<span class="hljs-number">0</span>+<span class="hljs-number">10</span> }
</div></code></pre>
</li>
</ol>
</li>
<li>陣列的 map() 方法：把陣列的每個成員拿出來做一些事情<pre class="hljs"><code><div><span class="hljs-keyword">var</span> numberArray=[<span class="hljs-number">1</span>,<span class="hljs-number">3</span>,<span class="hljs-number">5</span>,<span class="hljs-number">7</span>,<span class="hljs-number">9</span>,<span class="hljs-number">2</span>,<span class="hljs-number">4</span>,<span class="hljs-number">6</span>,<span class="hljs-number">8</span>,<span class="hljs-number">10</span>]
<span class="hljs-keyword">let</span> numberArrayAddTen = numberArray.<span class="hljs-built_in">map</span> {$<span class="hljs-number">0</span> + <span class="hljs-number">10</span>}
}
<span class="hljs-comment">// output: [11,13,15,17,19,12,14,16,18,20]</span>
</div></code></pre>
</li>
<li>陣列的 filter() 方法：過濾功能<pre class="hljs"><code><div><span class="hljs-keyword">var</span> numberArray=[<span class="hljs-number">1</span>,<span class="hljs-number">3</span>,<span class="hljs-number">5</span>,<span class="hljs-number">7</span>,<span class="hljs-number">9</span>,<span class="hljs-number">2</span>,<span class="hljs-number">4</span>,<span class="hljs-number">6</span>,<span class="hljs-number">8</span>,<span class="hljs-number">10</span>]
<span class="hljs-keyword">let</span> numberArrayEven = numberArray.<span class="hljs-built_in">filter</span> {$<span class="hljs-number">0</span> % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>}
<span class="hljs-comment">// output: [2, 4, 6, 8, 10]</span>
</div></code></pre>
</li>
</ul>
<hr>
<h3 id="%E7%AC%AC%E5%85%AB%E7%AF%80-optional-%E8%88%87%E8%B3%AA%E6%95%B8%E5%88%A4%E6%96%B7app">第八節 optional 與質數判斷APP</h3>
<ul>
<li>optional型別 (非必需的)<pre class="hljs"><code><div><span class="hljs-keyword">var</span> i:<span class="hljs-type">Int</span> = <span class="hljs-number">10</span>
<span class="hljs-comment">// i的型別是Int，儲存10</span>
<span class="hljs-keyword">var</span> j:<span class="hljs-type">Int</span> = <span class="hljs-literal">nil</span>
<span class="hljs-comment">// error: j的型別是Int，無法儲存nil</span>
<span class="hljs-keyword">var</span> k:<span class="hljs-type">Int</span>? = <span class="hljs-literal">nil</span>
<span class="hljs-comment">// 為了儲存nil和Int，必須使用optional Int型別(Int?)</span>
<span class="hljs-keyword">var</span> isLightOn:<span class="hljs-type">Bool</span>? = <span class="hljs-literal">nil</span>; 
<span class="hljs-comment">// 為了儲存nil和Bool，必須使用optional Bool型別(Int?)</span>

<span class="hljs-keyword">var</span> x:<span class="hljs-type">Int</span>?
<span class="hljs-comment">// x預設為nil</span>

<span class="hljs-keyword">var</span> y:<span class="hljs-type">Int</span>? = <span class="hljs-number">8</span>;
<span class="hljs-built_in">print</span>(y)
<span class="hljs-comment">// output: optional(8)</span>

y+<span class="hljs-number">2</span>
<span class="hljs-comment">// error: optional Int 和 Int無法相加</span>

<span class="hljs-keyword">var</span> z:<span class="hljs-type">Int</span>!;
<span class="hljs-comment">// 除了用Int?表示optional外，也可用Int!表示</span>
<span class="hljs-comment">// 用Int!在程式中，都不會檢查值是否為nil，類似其他語言</span>
</div></code></pre>
</li>
<li>處理optional的方法
<ol>
<li>強迫解開包裝 force unwarpping<pre class="hljs"><code><div><span class="hljs-comment">// 在變數後加上!可以強迫解開包裝</span>
<span class="hljs-keyword">var</span> x:<span class="hljs-type">Int</span>? = <span class="hljs-number">8</span>
x! + <span class="hljs-number">2</span>
<span class="hljs-comment">// output: 10</span>

<span class="hljs-keyword">var</span> y:<span class="hljs-type">Int</span>? = <span class="hljs-literal">nil</span>
y! + <span class="hljs-number">2</span>
<span class="hljs-comment">// error</span>
</div></code></pre>
</li>
<li>先判斷是否有值，再做後續的處理<pre class="hljs"><code><div><span class="hljs-keyword">var</span> x:<span class="hljs-type">Int</span>? = <span class="hljs-number">8</span>;
<span class="hljs-keyword">if</span> x != <span class="hljs-literal">nil</span>{
    x! + <span class="hljs-number">2</span>
    <span class="hljs-comment">// output: 10</span>
    x = x! + <span class="hljs-number">2</span>
    <span class="hljs-comment">// x: optional(10)</span>
}
</div></code></pre>
</li>
<li>optional binding:最好的處理方式<pre class="hljs"><code><div><span class="hljs-keyword">var</span> x:<span class="hljs-type">Int</span>? = <span class="hljs-number">8</span>;
<span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> myNumber = x{
    myNumber + <span class="hljs-number">2</span>
}

</div></code></pre>
</li>
</ol>
</li>
<li>TernaryConditionl operator(三元運算子)<pre class="hljs"><code><div><span class="hljs-keyword">var</span> x:<span class="hljs-type">Int</span>? = <span class="hljs-number">3</span>
<span class="hljs-keyword">var</span> y:<span class="hljs-type">Int</span>
y = x != <span class="hljs-literal">nil</span> ? x! : <span class="hljs-number">0</span>
<span class="hljs-comment">//等價於下面</span>
<span class="hljs-keyword">if</span> x != <span class="hljs-literal">nil</span>{
    y = x!
} <span class="hljs-keyword">else</span> {
    y = <span class="hljs-number">0</span>
}
</div></code></pre>
</li>
<li>Nil-Coalesing operator(空值聚合運算子)<pre class="hljs"><code><div><span class="hljs-keyword">var</span> x:<span class="hljs-type">Int</span>? = <span class="hljs-number">3</span>
<span class="hljs-keyword">var</span> y:<span class="hljs-type">Int</span>
y = x ?? <span class="hljs-number">0</span>
<span class="hljs-comment">//等價於下面</span>
<span class="hljs-keyword">if</span> x != <span class="hljs-literal">nil</span>{
    y = x!
} <span class="hljs-keyword">else</span> {
    y = <span class="hljs-number">0</span>
}
</div></code></pre>
</li>
<li>質數判斷APP</li>
<li>playground練習<pre class="hljs"><code><div><span class="hljs-keyword">let</span> inputNumber:<span class="hljs-type">Int</span> = <span class="hljs-number">18</span>
<span class="hljs-keyword">var</span> isPrime:<span class="hljs-type">Bool</span>? = <span class="hljs-literal">true</span>

<span class="hljs-keyword">if</span> inputNumber &lt;= <span class="hljs-number">0</span> {
    isPrime = <span class="hljs-literal">nil</span>
} <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> inputNumber == <span class="hljs-number">1</span>{
    isPrime = <span class="hljs-literal">true</span>
} <span class="hljs-keyword">else</span> {
    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-number">2</span>..&lt;inputNumber{
        <span class="hljs-keyword">if</span>(inputNumber % i == <span class="hljs-number">0</span>) {
            isPrime = <span class="hljs-literal">false</span>
        }
    }
}

<span class="hljs-keyword">if</span> isPrime == <span class="hljs-literal">true</span> {
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"<span class="hljs-subst">\(inputNumber)</span> is prime"</span>)
} <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> isPrime == <span class="hljs-literal">false</span>{
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"<span class="hljs-subst">\(inputNumber)</span> isn't prime"</span>)
} <span class="hljs-keyword">else</span> {
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"reenter"</span>)
}

<span class="hljs-comment">// 函數寫法</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">checkPrime</span><span class="hljs-params">(withNumber testNumber:Int)</span></span> -&gt; <span class="hljs-type">String</span>{
    <span class="hljs-keyword">var</span> isPrime:<span class="hljs-type">Bool</span>? = <span class="hljs-literal">true</span>
    
    <span class="hljs-keyword">if</span> testNumber &lt;= <span class="hljs-number">0</span> {
        isPrime = <span class="hljs-literal">nil</span>
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> testNumber == <span class="hljs-number">1</span>{
        isPrime = <span class="hljs-literal">true</span>
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-number">2</span>..&lt;testNumber{
            <span class="hljs-keyword">if</span>(testNumber % i == <span class="hljs-number">0</span>) {
                isPrime = <span class="hljs-literal">false</span>
            }
        }
    }
    
    
    <span class="hljs-keyword">if</span> isPrime == <span class="hljs-literal">true</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-string">"<span class="hljs-subst">\(testNumber)</span> is prime"</span>
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> isPrime == <span class="hljs-literal">false</span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">"<span class="hljs-subst">\(testNumber)</span> isn't prime"</span>
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-string">"reenter"</span>
    }
}
<span class="hljs-built_in">print</span>(checkPrime(withNumber: inputNumber))
</div></code></pre>
</li>
<li><code>@IBaction</code> interface builder Action</li>
<li>push the keyboard on :<code>inputTextField.becomeFirstResponder()</code></li>
<li>viewController.swift<pre class="hljs"><code><div><span class="hljs-keyword">import</span> UIKit

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ViewController</span>: <span class="hljs-title">UIViewController</span> </span>{
    
    <span class="hljs-meta">@IBOutlet</span> <span class="hljs-keyword">weak</span> <span class="hljs-keyword">var</span> inputTextField: <span class="hljs-type">UITextField</span>!
    
    <span class="hljs-meta">@IBOutlet</span> <span class="hljs-keyword">weak</span> <span class="hljs-keyword">var</span> resultLabel: <span class="hljs-type">UILabel</span>!
    
    <span class="hljs-keyword">override</span> <span class="hljs-keyword">var</span> preferredStatusBarStyle: <span class="hljs-type">UIStatusBarStyle</span>{
        <span class="hljs-keyword">return</span> .lightContent
    }
    
    <span class="hljs-meta">@IBAction</span> <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">doThePrimeTest</span><span class="hljs-params">(<span class="hljs-number">_</span> sender: UIButton)</span></span> {
        <span class="hljs-comment">// 1.把文字輸入框的文字拿出</span>
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> inputText = inputTextField.text, <span class="hljs-keyword">let</span> inputNumber = <span class="hljs-type">Int</span>(inputText){
            <span class="hljs-comment">// 3.用checkPrime()得到輸出的字串</span>
            <span class="hljs-comment">// 4.用resultLabel顯示結果</span>
            checkPrime(withNumber: inputNumber){
                <span class="hljs-keyword">self</span>.resultLabel.text = $<span class="hljs-number">0</span>
                <span class="hljs-keyword">self</span>.resultLabel.isHidden = <span class="hljs-literal">false</span>
            }
        }
        inputTextField.text = <span class="hljs-string">""</span>
    }
    
    
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">viewDidLoad</span><span class="hljs-params">()</span></span> {
        <span class="hljs-keyword">super</span>.viewDidLoad()
        <span class="hljs-comment">// Do any additional setup after loading the view.</span>
        <span class="hljs-comment">// push the keyboard on</span>
        inputTextField.becomeFirstResponder()
    }
    
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">checkPrime</span><span class="hljs-params">(withNumber testNumber:Int)</span></span> -&gt; <span class="hljs-type">String</span>{
        <span class="hljs-keyword">var</span> isPrime:<span class="hljs-type">Bool</span>? = <span class="hljs-literal">true</span>
        
        <span class="hljs-keyword">if</span> testNumber &lt;= <span class="hljs-number">0</span> {
            isPrime = <span class="hljs-literal">nil</span>
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> testNumber == <span class="hljs-number">1</span>{
            isPrime = <span class="hljs-literal">true</span>
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-number">2</span>..&lt;testNumber{
                <span class="hljs-keyword">if</span>(testNumber % i == <span class="hljs-number">0</span>) {
                    isPrime = <span class="hljs-literal">false</span>
                    <span class="hljs-keyword">break</span>
                }
            }
        }
        
        
        <span class="hljs-keyword">if</span> isPrime == <span class="hljs-literal">true</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-string">"<span class="hljs-subst">\(testNumber)</span> is prime"</span>
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> isPrime == <span class="hljs-literal">false</span>{
            <span class="hljs-keyword">return</span> <span class="hljs-string">"<span class="hljs-subst">\(testNumber)</span> isn't prime"</span>
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-string">"reenter"</span>
        }
    }
    
    
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">checkPrime</span><span class="hljs-params">(withNumber number:Int,andCompletionHandler handler: <span class="hljs-params">(String)</span></span></span>-&gt;()){
        handler(checkPrime(withNumber: number))
    }
    
}

</div></code></pre>
</li>
<li>作品截圖
<img src="2019-07-12.png" alt=""></li>
</ul>
<hr>
<h3 id="%E7%AC%AC%E4%B9%9D%E7%AF%80-%E7%89%A9%E4%BB%B6%E5%B0%8E%E5%90%91%E7%A8%8B%E5%BC%8F%E8%A8%AD%E8%A8%88%E4%B8%8A">第九節 物件導向程式設計(上)</h3>
<ul>
<li>OOP : object-oriented programming<pre class="hljs"><code><div><span class="hljs-comment">// Lego類別，可想成是製造物件的藍圖</span>
<span class="hljs-comment">// 類別名稱第1個字通常用大寫</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Lego</span></span>{
    <span class="hljs-comment">// 物件有的屬性(property)，描述物件的特性</span>
    <span class="hljs-keyword">var</span> color = <span class="hljs-string">"blue"</span>
    <span class="hljs-keyword">var</span> size = <span class="hljs-number">8</span>;

    <span class="hljs-comment">// 物件的方法，描述物件會做的事</span>
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">connect</span><span class="hljs-params">()</span></span> {
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"connect with another block"</span>)
    }
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">remove</span><span class="hljs-params">()</span></span> {
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"disconnect with another block"</span>)
    }
}

<span class="hljs-keyword">let</span> oneBlock = <span class="hljs-type">Lego</span>()
<span class="hljs-comment">// Lego() : 建立樂高物件</span>

oneBlock.color
oneBlock.size
<span class="hljs-comment">// 存取oneBlock這塊樂高的屬性</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Baby</span> </span>{
    <span class="hljs-keyword">var</span> name:<span class="hljs-type">String</span> = <span class="hljs-string">"Tom"</span>
    <span class="hljs-keyword">var</span> age:<span class="hljs-type">Int</span> = <span class="hljs-number">1</span>
    
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">sleep</span><span class="hljs-params">()</span></span>{
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"sleep"</span>)
    }
    
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">introduceSelf</span><span class="hljs-params">()</span></span>{
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"My name is <span class="hljs-subst">\(name)</span>"</span>)
    }
}

<span class="hljs-keyword">let</span> baby1 = <span class="hljs-type">Baby</span>()
<span class="hljs-keyword">let</span> baby2 = <span class="hljs-type">Baby</span>()
baby2.name = <span class="hljs-string">"Nancy"</span>

baby1.introduceSelf()
<span class="hljs-comment">// output: My name is Tom</span>
baby2.introduceSelf()
<span class="hljs-comment">// output: My name is Nancy</span>

<span class="hljs-comment">// 每個不同的物件是相互獨立的</span>
</div></code></pre>
</li>
<li>初始化<pre class="hljs"><code><div>    <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Baby</span> </span>{
    <span class="hljs-keyword">var</span> name:<span class="hljs-type">String</span>
    <span class="hljs-keyword">var</span> age:<span class="hljs-type">Int</span>
    
    <span class="hljs-keyword">init</span>(){
        <span class="hljs-comment">// 要先初始化屬性，才能呼叫方法</span>
        name = <span class="hljs-string">"Tom"</span>
        age = <span class="hljs-number">1</span>
        introduceSelf()
    }
    <span class="hljs-keyword">init</span>(name:<span class="hljs-type">String</span>){
        <span class="hljs-keyword">self</span>.name = name
        age = <span class="hljs-number">2</span>;
        introduceSelf()
    }
    <span class="hljs-keyword">init</span>(age:<span class="hljs-type">Int</span>){
        name = <span class="hljs-string">"Sophie"</span>
        <span class="hljs-keyword">self</span>.age = age
        introduceSelf()
    }
    <span class="hljs-keyword">init</span>(name:<span class="hljs-type">String</span>, age:<span class="hljs-type">Int</span>) {
        <span class="hljs-keyword">self</span>.name = name
        <span class="hljs-keyword">self</span>.age = age
        introduceSelf()
    }
    
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">sleep</span><span class="hljs-params">()</span></span>{
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"sleep"</span>)
    }
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">introduceSelf</span><span class="hljs-params">()</span></span>{
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"My name is <span class="hljs-subst">\(name)</span>.I am <span class="hljs-subst">\(age)</span> years old"</span>)
    }
}

<span class="hljs-keyword">let</span> baby1 = <span class="hljs-type">Baby</span>()
<span class="hljs-keyword">let</span> baby2 = <span class="hljs-type">Baby</span>(name: <span class="hljs-string">"Ian"</span>)
<span class="hljs-keyword">let</span> baby3 = <span class="hljs-type">Baby</span>(age: <span class="hljs-number">3</span>)
<span class="hljs-keyword">let</span> baby4 = <span class="hljs-type">Baby</span>(name: <span class="hljs-string">"Eric"</span>, age: <span class="hljs-number">2</span>)
<span class="hljs-comment">// output:</span>
<span class="hljs-comment">// My name is Tom.I am 1 years old</span>
<span class="hljs-comment">// My name is Ian.I am 2 years old</span>
<span class="hljs-comment">// My name is Sophie.I am 3 years old</span>
<span class="hljs-comment">// My name is Eric.I am 2 years old</span>
</div></code></pre>
</li>
<li>子類別 Subclass : 繼承別的類別的屬性與方法<pre class="hljs"><code><div><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Baby</span> </span>{
    <span class="hljs-keyword">var</span> name:<span class="hljs-type">String</span>
    <span class="hljs-keyword">var</span> age:<span class="hljs-type">Int</span>
    
    <span class="hljs-keyword">init</span>(){
        <span class="hljs-comment">// 要先初始化屬性，才能呼叫方法</span>
        name = <span class="hljs-string">"Tom"</span>
        age = <span class="hljs-number">1</span>
        introduceSelf()
    }
    <span class="hljs-keyword">init</span>(name:<span class="hljs-type">String</span>){
        <span class="hljs-keyword">self</span>.name = name
        age = <span class="hljs-number">2</span>;
        introduceSelf()
    }
    <span class="hljs-keyword">init</span>(age:<span class="hljs-type">Int</span>){
        name = <span class="hljs-string">"Sophie"</span>
        <span class="hljs-keyword">self</span>.age = age
        introduceSelf()
    }
    <span class="hljs-keyword">init</span>(name:<span class="hljs-type">String</span>, age:<span class="hljs-type">Int</span>) {
        <span class="hljs-keyword">self</span>.name = name
        <span class="hljs-keyword">self</span>.age = age
        introduceSelf()
    }
    
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">sleep</span><span class="hljs-params">()</span></span>{
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"sleep"</span>)
    }
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">introduceSelf</span><span class="hljs-params">()</span></span>{
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"My name is <span class="hljs-subst">\(name)</span>.I am <span class="hljs-subst">\(age)</span> years old"</span>)
    }
}
<span class="hljs-comment">// CuteBaby 繼承 Baby</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CuteBaby</span>:<span class="hljs-title">Baby</span></span>{
    <span class="hljs-keyword">var</span> nickname:<span class="hljs-type">String</span>
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">danceAndSing</span><span class="hljs-params">()</span></span>{
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"Dance and sing."</span>)
    }
    <span class="hljs-comment">// 覆寫 Baby 的 sleep() </span>
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">sleep</span><span class="hljs-params">()</span></span> {
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"sleep with cute smile"</span>)
        <span class="hljs-keyword">super</span>.sleep()
    }
    <span class="hljs-comment">// 覆寫 Baby 的 introduceSelf()</span>
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">introduceSelf</span><span class="hljs-params">()</span></span> {
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"My name ia <span class="hljs-subst">\(nickname)</span>"</span>)
    }
    <span class="hljs-comment">// 覆寫 init() 順序</span>
    <span class="hljs-comment">// 1. 初始化子類別屬性</span>
    <span class="hljs-comment">// 2. super.init()</span>
    <span class="hljs-comment">// 3. 設定父類別屬性</span>
    <span class="hljs-keyword">override</span> <span class="hljs-keyword">init</span>() {
        nickname = <span class="hljs-string">"QQ"</span>
        <span class="hljs-keyword">super</span>.<span class="hljs-keyword">init</span>()
        name = <span class="hljs-string">"Sunny"</span>
    }
}

<span class="hljs-keyword">let</span> iAmSoQ = <span class="hljs-type">CuteBaby</span>()
iAmSoQ.name
iAmSoQ.nickname
iAmSoQ.sleep()
<span class="hljs-comment">// output: </span>
<span class="hljs-comment">// My name ia QQ</span>
<span class="hljs-comment">// sleep with cute smile</span>
<span class="hljs-comment">// sleep</span>
</div></code></pre>
</li>
</ul>
<hr>
<h3 id="%E7%AC%AC%E5%8D%81%E7%AF%80-uiview-%E8%88%87%E8%A8%98%E6%86%B6%E9%AB%94%E7%AE%A1%E7%90%86">第十節 UIView 與記憶體管理</h3>
<ul>
<li><code>deinit()</code>釋放記憶體<pre class="hljs"><code><div><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Person</span></span>{
    <span class="hljs-keyword">var</span> firstName = <span class="hljs-string">"Ian"</span>
    <span class="hljs-keyword">var</span> lastName = <span class="hljs-string">"Lu"</span>
    <span class="hljs-keyword">var</span> fullName:<span class="hljs-type">String</span>
    <span class="hljs-keyword">init</span>() {
        fullName = firstName+lastName;
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"A person is being initialized"</span>)
    }
    <span class="hljs-keyword">deinit</span> {
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"A person is being deinitialized"</span>)
    }
}
<span class="hljs-keyword">var</span> person1:<span class="hljs-type">Person</span>? = <span class="hljs-type">Person</span>();
<span class="hljs-comment">// 小括號的完整意義</span>
<span class="hljs-comment">// 1. 啟動一塊記憶體</span>
<span class="hljs-comment">// 2. 然後執行init()方法</span>

person1?.fullName

<span class="hljs-comment">// 當person實體不在被人需要會執行deinit()方法，回收記憶體</span>
<span class="hljs-comment">// person1 = nil</span>

<span class="hljs-comment">// person1 和 person2 參考同一段記憶體</span>
<span class="hljs-keyword">var</span> person2:<span class="hljs-type">Person</span>? = person1
person1?.firstName = <span class="hljs-string">"Wei"</span>
<span class="hljs-comment">// person1?.firstName : "Wei"</span>
<span class="hljs-comment">// person2?.firstName : "Wei"</span>

<span class="hljs-keyword">var</span> number1 = <span class="hljs-number">1</span>
<span class="hljs-keyword">var</span> number2 = number1
number1 = <span class="hljs-number">10</span>
<span class="hljs-comment">// number1 : 10</span>
<span class="hljs-comment">// number2 : 1</span>

person2 = <span class="hljs-literal">nil</span>
<span class="hljs-comment">// 現在還有person1 參考這段記憶體，所以不會執行deinit()方法</span>
person1 = <span class="hljs-literal">nil</span>
<span class="hljs-comment">// 當person1不在參考這段記憶體，就沒有其他變數會參考這段記憶體了，所以此時會執行deinit()方法，回收記憶體</span>
</div></code></pre>
</li>
<li>retain cycle 循環參考<pre class="hljs"><code><div><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Person</span></span>{
    <span class="hljs-keyword">var</span> heart:<span class="hljs-type">Heart</span>?
    <span class="hljs-keyword">init</span>() {
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"A person is being initialized"</span>)
    }
    <span class="hljs-keyword">deinit</span> {
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"A person is being deinitialized"</span>)
    }
}
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Heart</span></span>{
    <span class="hljs-keyword">var</span> person:<span class="hljs-type">Person</span>?
    <span class="hljs-keyword">init</span>() {
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"A heart is being initialized"</span>)
    }
    <span class="hljs-keyword">deinit</span> {
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"A heart is being deinitialized"</span>)
    }
}

<span class="hljs-keyword">var</span> aPerson:<span class="hljs-type">Person</span>? = <span class="hljs-type">Person</span>()
<span class="hljs-keyword">var</span> aHeart:<span class="hljs-type">Heart</span>? = <span class="hljs-type">Heart</span>()
<span class="hljs-comment">//-------------</span>
aPerson = <span class="hljs-literal">nil</span>
aHeart = <span class="hljs-literal">nil</span>
<span class="hljs-comment">//output:</span>
<span class="hljs-comment">//A person is being initialized</span>
<span class="hljs-comment">//A heart is being initialized</span>
<span class="hljs-comment">//A person is being deinitialized</span>
<span class="hljs-comment">//A heart is being deinitialized</span>
<span class="hljs-comment">//-------------</span>

<span class="hljs-comment">//------------retain cycle</span>
aPerson?.heart = aHeart
aHeart?.person = aPerson

aPerson = <span class="hljs-literal">nil</span>
<span class="hljs-comment">// 由於aHeart.person仍在使用所以不會釋放</span>
aHeart = <span class="hljs-literal">nil</span>
<span class="hljs-comment">// output:</span>
<span class="hljs-comment">//A person is being initialized</span>
<span class="hljs-comment">//A heart is being initialized</span>
<span class="hljs-comment">//-------------</span>
</div></code></pre>
</li>
<li>解決方法：weak弱參考<pre class="hljs"><code><div><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Person</span></span>{
    <span class="hljs-keyword">weak</span> <span class="hljs-keyword">var</span> heart:<span class="hljs-type">Heart</span>?
    <span class="hljs-keyword">init</span>() {
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"A person is being initialized"</span>)
    }
    <span class="hljs-keyword">deinit</span> {
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"A person is being deinitialized"</span>)
    }
}
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Heart</span></span>{
    <span class="hljs-keyword">weak</span> <span class="hljs-keyword">var</span> person:<span class="hljs-type">Person</span>?
    <span class="hljs-keyword">init</span>() {
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"A heart is being initialized"</span>)
    }
    <span class="hljs-keyword">deinit</span> {
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"A heart is being deinitialized"</span>)
    }
}

<span class="hljs-keyword">var</span> aPerson:<span class="hljs-type">Person</span>? = <span class="hljs-type">Person</span>()
<span class="hljs-keyword">var</span> aHeart:<span class="hljs-type">Heart</span>? = <span class="hljs-type">Heart</span>()

aPerson?.heart = aHeart
aHeart?.person = aPerson

aPerson = <span class="hljs-literal">nil</span>
aHeart = <span class="hljs-literal">nil</span>
<span class="hljs-comment">// output:</span>
<span class="hljs-comment">//A person is being initialized</span>
<span class="hljs-comment">//A heart is being initialized</span>
<span class="hljs-comment">//A person is being deinitialized</span>
<span class="hljs-comment">//A heart is being deinitialized</span>
</div></code></pre>
</li>
<li>UIView
<ul>
<li>屬性與方法
<ul>
<li><code>backgroundColor</code></li>
<li><code>alpha</code></li>
<li><code>isHidden</code></li>
<li><code>addSubView()</code></li>
</ul>
</li>
<li>範例<pre class="hljs"><code><div><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ViewController</span>: <span class="hljs-title">UIViewController</span> </span>{

    <span class="hljs-meta">@IBOutlet</span> <span class="hljs-keyword">weak</span> <span class="hljs-keyword">var</span> midRect: <span class="hljs-type">UIView</span>!
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">viewDidLoad</span><span class="hljs-params">()</span></span> {
        <span class="hljs-keyword">super</span>.viewDidLoad()
        <span class="hljs-comment">// Do any additional setup after loading the view.</span>
        <span class="hljs-comment">// 調整背景色</span>
        midRect.backgroundColor = <span class="hljs-type">UIColor</span>.green
        <span class="hljs-comment">// 調整透明度</span>
        midRect.alpha = <span class="hljs-number">0.5</span>
        <span class="hljs-comment">// 隱藏midRect</span>
        <span class="hljs-comment">// midRect.isHidden = true</span>
        
        
        <span class="hljs-comment">// optional chaining</span>
        <span class="hljs-comment">// view.viewWithTag(101)?.backgroundColor = UIColor.lightGray</span>
        
        <span class="hljs-comment">// 自己加入UIView</span>
        <span class="hljs-keyword">let</span> viewArea = <span class="hljs-type">CGRect</span>(x: <span class="hljs-number">50</span>, y: <span class="hljs-number">400</span>, width: <span class="hljs-number">100</span>, height: <span class="hljs-number">50</span>)
        <span class="hljs-keyword">let</span> smallRect = <span class="hljs-type">UIView</span>(frame: viewArea)
        smallRect.backgroundColor = <span class="hljs-type">UIColor</span>.purple
        <span class="hljs-comment">// 將自己做的UIView加入self.view的subView</span>
        <span class="hljs-comment">// view.addSubview(smallRect)</span>
        <span class="hljs-comment">// 不一定要加入self.view的subView，也可以加入其他UIView的subView，如下</span>
        view.viewWithTag(<span class="hljs-number">101</span>)?.addSubview(smallRect)
    }
}
</div></code></pre>
</li>
</ul>
</li>
</ul>
<hr>
<h3 id="%E7%AC%AC%E5%8D%81%E4%B8%80%E7%AF%80-%E8%AA%8D%E8%AD%98%E5%9F%BA%E7%A4%8Eui%E5%85%83%E4%BB%B6%E8%88%87%E8%87%AA%E5%8B%95%E6%8E%92%E7%89%88">第十一節 認識基礎UI元件與自動排版</h3>
<ul>
<li>
<p>UISwitch</p>
<pre class="hljs"><code><div><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ViewController</span>: <span class="hljs-title">UIViewController</span> </span>{
    <span class="hljs-meta">@IBOutlet</span> <span class="hljs-keyword">weak</span> <span class="hljs-keyword">var</span> mySwitch: <span class="hljs-type">UISwitch</span>!
    
    <span class="hljs-meta">@IBAction</span> <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">makeAChange</span><span class="hljs-params">(<span class="hljs-number">_</span> sender: UISwitch)</span></span> {
        <span class="hljs-keyword">if</span> sender.isOn==<span class="hljs-literal">true</span>{
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"isON"</span>)
            view.backgroundColor = .white
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"isOFF"</span>)
            view.backgroundColor = .black
        }
    }
    
    <span class="hljs-meta">@objc</span> <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">codeSwitchChanged</span><span class="hljs-params">(<span class="hljs-number">_</span> sender: UISwitch)</span></span> {
        <span class="hljs-keyword">if</span> sender.isOn==<span class="hljs-literal">true</span>{
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"isON"</span>)
            view.backgroundColor = .white
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"isOFF"</span>)
            view.backgroundColor = .black
        }
        
    }
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">viewDidLoad</span><span class="hljs-params">()</span></span> {
        <span class="hljs-keyword">super</span>.viewDidLoad()
        mySwitch.isOn = <span class="hljs-literal">false</span>
        makeAChange(mySwitch)
        
        <span class="hljs-comment">// generate a UISwitch using code</span>
        <span class="hljs-keyword">let</span> callSwitch = <span class="hljs-type">UISwitch</span>(frame: <span class="hljs-type">CGRect</span>(x: view.frame.midX-<span class="hljs-number">51</span>/<span class="hljs-number">2</span>, y: view.frame.maxY-<span class="hljs-number">100</span>, width: <span class="hljs-number">51</span>, height: <span class="hljs-number">31</span>))
        view.addSubview(callSwitch)
        
        callSwitch.isOn = <span class="hljs-literal">true</span>;
        callSwitch.addTarget(<span class="hljs-keyword">self</span>, action: #selector(<span class="hljs-type">ViewController</span>.codeSwitchChanged(<span class="hljs-number">_</span>:)), <span class="hljs-keyword">for</span>: .valueChanged)
    }
}
</div></code></pre>
</li>
<li>
<p>UISegmentedControl</p>
<pre class="hljs"><code><div><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ViewController</span>: <span class="hljs-title">UIViewController</span> </span>{
    <span class="hljs-meta">@IBAction</span> <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">colorToggleChanged</span><span class="hljs-params">(<span class="hljs-number">_</span> sender: UISegmentedControl)</span></span> {
        <span class="hljs-keyword">if</span> sender.selectedSegmentIndex == <span class="hljs-number">0</span>{
            view.backgroundColor = .white
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> sender.selectedSegmentIndex == <span class="hljs-number">1</span>{
            view.backgroundColor = .black
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> sender.selectedSegmentIndex == <span class="hljs-number">2</span>{
            view.backgroundColor = .red
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> sender.selectedSegmentIndex == <span class="hljs-number">3</span>{
            view.backgroundColor = .orange
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> sender.selectedSegmentIndex == <span class="hljs-number">4</span>{
            view.backgroundColor = .yellow
        } <span class="hljs-keyword">else</span> {
            
        }
        
    }
    
    <span class="hljs-meta">@IBAction</span> <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">myToggleChanged</span><span class="hljs-params">(<span class="hljs-number">_</span> sender: UISegmentedControl)</span></span> {
        
        <span class="hljs-keyword">if</span> sender.selectedSegmentIndex == <span class="hljs-number">0</span>{
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"public"</span>)
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> sender.selectedSegmentIndex == <span class="hljs-number">1</span>{
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"private"</span>)
        }
    }
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">viewDidLoad</span><span class="hljs-params">()</span></span> {
        <span class="hljs-keyword">super</span>.viewDidLoad()
        <span class="hljs-comment">// Do any additional setup after loading the view.</span>
    }
}

</div></code></pre>
</li>
<li>
<p>UISlider</p>
<pre class="hljs"><code><div><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ViewController</span>: <span class="hljs-title">UIViewController</span> </span>{

    <span class="hljs-meta">@IBOutlet</span> <span class="hljs-keyword">weak</span> <span class="hljs-keyword">var</span> myLabel: <span class="hljs-type">UILabel</span>!
    
    <span class="hljs-meta">@IBAction</span> <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">sliderChanged</span><span class="hljs-params">(<span class="hljs-number">_</span> sender: UISlider)</span></span> {
        myLabel.text = <span class="hljs-string">"<span class="hljs-subst">\(Int(sender.value)</span>)"</span>
    }
    
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">viewDidLoad</span><span class="hljs-params">()</span></span> {
        <span class="hljs-keyword">super</span>.viewDidLoad()
        <span class="hljs-comment">// Do any additional setup after loading the view.</span>
    }
}
</div></code></pre>
</li>
<li>
<p>auto layout 自動排版</p>
<ul>
<li>因iPhone各版本大小不同如果用iPhone開發，用iPad開啟，就會發生跑版</li>
<li>auto layout要設定以下屬性x,y,width,height</li>
<li>以UIswiych置中為例，要點選元件後按右下角align，選擇Horizontally in Container 和 Vertically in Container 在選取 Add Containers，這樣就完成 x,y 的調整，接下來點選右下角的Add New Constraints設定width,height，就完成了</li>
<li>依照比例設定方法：
<ol>
<li>先設定等寬</li>
<li>再設定比例</li>
</ol>
</li>
</ul>
</li>
<li>
<p>APP:color finder</p>
<ul>
<li>ViewController.swift</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ViewController</span>: <span class="hljs-title">UIViewController</span> </span>{
    <span class="hljs-keyword">var</span> redValue = <span class="hljs-number">255</span>
    <span class="hljs-keyword">var</span> greenValue = <span class="hljs-number">255</span>
    <span class="hljs-keyword">var</span> blueValue = <span class="hljs-number">255</span>
    <span class="hljs-meta">@IBOutlet</span> <span class="hljs-keyword">weak</span> <span class="hljs-keyword">var</span> redText: <span class="hljs-type">UILabel</span>!
    <span class="hljs-meta">@IBOutlet</span> <span class="hljs-keyword">weak</span> <span class="hljs-keyword">var</span> greenText: <span class="hljs-type">UILabel</span>!
    <span class="hljs-meta">@IBOutlet</span> <span class="hljs-keyword">weak</span> <span class="hljs-keyword">var</span> blueText: <span class="hljs-type">UILabel</span>!
    
    <span class="hljs-meta">@IBAction</span> <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">redSliderChanged</span><span class="hljs-params">(<span class="hljs-number">_</span> sender: UISlider)</span></span> {
        redValue = <span class="hljs-type">Int</span>(sender.value)
        redText.text = <span class="hljs-string">"R: <span class="hljs-subst">\(redValue)</span>"</span>
        changeBackgroundColor()
    }
    
    <span class="hljs-meta">@IBAction</span> <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">greenSliderChanged</span><span class="hljs-params">(<span class="hljs-number">_</span> sender: UISlider)</span></span> {
        greenValue = <span class="hljs-type">Int</span>(sender.value)
        greenText.text = <span class="hljs-string">"G: <span class="hljs-subst">\(greenValue)</span>"</span>
        changeBackgroundColor()
    }
    <span class="hljs-meta">@IBAction</span> <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">blueSliderChanged</span><span class="hljs-params">(<span class="hljs-number">_</span> sender: UISlider)</span></span> {
        blueValue = <span class="hljs-type">Int</span>(sender.value)
        blueText.text = <span class="hljs-string">"B: <span class="hljs-subst">\(blueValue)</span>"</span>
        changeBackgroundColor()
    }
    
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">changeBackgroundColor</span><span class="hljs-params">()</span></span> {
        view.backgroundColor = <span class="hljs-type">UIColor</span>(red: <span class="hljs-type">CGFloat</span>(redValue)/<span class="hljs-number">255</span>, green: <span class="hljs-type">CGFloat</span>(greenValue)/<span class="hljs-number">255</span>, blue: <span class="hljs-type">CGFloat</span>(blueValue)/<span class="hljs-number">255</span>, alpha: <span class="hljs-number">1</span>)
    }
    
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">viewDidLoad</span><span class="hljs-params">()</span></span> {
        <span class="hljs-keyword">super</span>.viewDidLoad()
        <span class="hljs-comment">// Do any additional setup after loading the view.</span>
    }
}
</div></code></pre>
<ul>
<li>layout
<ul>
<li>透過黃色UIView和紫色UIView協助label和slider的定位，再搭配auto layout設定x,y,width,height使得在各個畫面都能呈現想要的版型
<img src="2019-07-18-01.png" alt="">
<img src="2019-07-18-02.png" alt="">
<img src="2019-07-18-03.png" alt="">
<img src="2019-07-18-04.png" alt=""></li>
</ul>
</li>
</ul>
</li>
<li>
<p>作品截圖</p>
<p><img src="2019-07-18-05.png" alt=""></p>
</li>
</ul>
<hr>
<h1 id="20190802">2019.08.02</h1>
<h3 id="%E7%AC%AC%E5%8D%81%E4%BA%8C%E7%AF%80-%E6%9B%B4%E5%A4%9Aui%E5%85%83%E4%BB%B6%E4%BB%8B%E7%B4%B9">第十二節 更多UI元件介紹</h3>
<ul>
<li>UIAlertController
<ul>
<li>title</li>
<li>message</li>
<li>UIAlertAction</li>
<li>code<pre class="hljs"><code><div><span class="hljs-meta">@IBAction</span> <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">showAlert</span><span class="hljs-params">(<span class="hljs-number">_</span> sender: UIButton)</span></span> {
    <span class="hljs-keyword">let</span> myAlert = <span class="hljs-type">UIAlertController</span>(title: <span class="hljs-string">"Hello"</span>, message: <span class="hljs-string">"How are you"</span>, preferredStyle: .alert)
    
    <span class="hljs-keyword">let</span> okAction = <span class="hljs-type">UIAlertAction</span>(title: <span class="hljs-string">"OK"</span>, style: .<span class="hljs-keyword">default</span>) {
        (action:<span class="hljs-type">UIAlertAction</span>) <span class="hljs-keyword">in</span>
        <span class="hljs-comment">// 關閉畫面</span>
        <span class="hljs-keyword">self</span>.dismiss(animated: <span class="hljs-literal">true</span>, completion: <span class="hljs-literal">nil</span>)
    }
    <span class="hljs-comment">// 如果只要self.dismiss()可以簡寫如下</span>
    <span class="hljs-comment">// let okAction = UIAlertAction(title: "OK", style: .default)</span>
    
    <span class="hljs-keyword">let</span> helloAction = <span class="hljs-type">UIAlertAction</span>(title: <span class="hljs-string">"Say Hello"</span>, style: .destructive) {
        (action:<span class="hljs-type">UIAlertAction</span>) <span class="hljs-keyword">in</span>
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"Hello"</span>)
        <span class="hljs-keyword">self</span>.dismiss(animated: <span class="hljs-literal">true</span>, completion: <span class="hljs-literal">nil</span>)
    }
    <span class="hljs-keyword">let</span> cancelAction = <span class="hljs-type">UIAlertAction</span>(title: <span class="hljs-string">"cancel"</span>, style: .cancel) {
        (action:<span class="hljs-type">UIAlertAction</span>) <span class="hljs-keyword">in</span>
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"cancel"</span>)
        <span class="hljs-keyword">self</span>.dismiss(animated: <span class="hljs-literal">true</span>, completion: <span class="hljs-literal">nil</span>)
    }
    
    <span class="hljs-comment">// 將按鈕加入UIAlertController</span>
    myAlert.addAction(okAction)
    myAlert.addAction(helloAction)
    myAlert.addAction(cancelAction)

    <span class="hljs-comment">// 彈出UIAlertController</span>
    present(myAlert, animated: <span class="hljs-literal">true</span>, completion: <span class="hljs-literal">nil</span>)
}
</div></code></pre>
</li>
</ul>
</li>
<li>UIImage
<ul>
<li>UIImage 不是圖片，可以想成是相框</li>
<li>UIImage 才是圖片</li>
<li>view &gt; content mode
<ul>
<li>scale to fill : 不等比例放大填滿整個畫面</li>
<li>aspect fit : 等比例放大，有一邊再放大就超過畫面即停止放大</li>
<li>aspect fill : 等比例放大，有兩邊再放大就超過畫面即停止放大</li>
</ul>
</li>
<li>用程式碼換圖<pre class="hljs"><code><div>myPet.image = <span class="hljs-type">UIImage</span>(named: <span class="hljs-string">"MyDog"</span>)
</div></code></pre>
</li>
</ul>
</li>
<li>UIButton
<ul>
<li>更換自己的圖
<ol>
<li>state config &gt; default</li>
<li>image &gt; 選擇一般狀態的按鈕圖</li>
<li>state config &gt; highlightd</li>
<li>image &gt; 選擇按下狀態的按鈕圖</li>
</ol>
</li>
<li>用程式碼產生按鈕<pre class="hljs"><code><div><span class="hljs-comment">// 做一個system style 的 UIButton</span>
<span class="hljs-keyword">let</span> newButton = <span class="hljs-type">UIButton</span>(type: .system)
<span class="hljs-comment">// 設定按鈕的 x,y,width,height</span>
newButton.frame = <span class="hljs-type">CGRect</span>(x: <span class="hljs-number">50</span>, y: <span class="hljs-number">50</span>, width: <span class="hljs-number">100</span>, height: <span class="hljs-number">50</span>)
<span class="hljs-comment">// 設定按鈕各個狀態的文字</span>
newButton.setTitle(<span class="hljs-string">"Press"</span>, <span class="hljs-keyword">for</span>: .normal)
newButton.setTitle(<span class="hljs-string">"Pressing"</span>, <span class="hljs-keyword">for</span>: .highlighted)
<span class="hljs-comment">// 將按鈕加到view</span>
view.addSubview(newButton)
<span class="hljs-comment">// 新增按鈕的事件</span>
newButton.addTarget(<span class="hljs-keyword">self</span>, action: #selector(<span class="hljs-type">ViewController</span>.hitMe(<span class="hljs-number">_</span>:)), <span class="hljs-keyword">for</span>: .touchUpInside)

<span class="hljs-comment">// 做一個image button</span>
<span class="hljs-keyword">let</span> anotherButton = <span class="hljs-type">UIButton</span>(type: .custom)
anotherButton.frame = <span class="hljs-type">CGRect</span>(x: <span class="hljs-number">200</span>, y: <span class="hljs-number">200</span>, width: <span class="hljs-number">144</span>, height: <span class="hljs-number">54</span>)
<span class="hljs-comment">// 設定按鈕各個狀態的圖片</span>
anotherButton.setImage(<span class="hljs-type">UIImage</span>(named: <span class="hljs-string">"PlayButton"</span>), <span class="hljs-keyword">for</span>: .normal)
anotherButton.setImage(<span class="hljs-type">UIImage</span>(named: <span class="hljs-string">"PlayButtonPressed"</span>), <span class="hljs-keyword">for</span>: .highlighted)
view.addSubview(anotherButton)
anotherButton.addTarget(<span class="hljs-keyword">self</span>, action: #selector(<span class="hljs-type">ViewController</span>.hitMe(<span class="hljs-number">_</span>:)), <span class="hljs-keyword">for</span>: .touchUpInside)
</div></code></pre>
</li>
<li>用 closure 生 button<pre class="hljs"><code><div><span class="hljs-comment">// 好處：縮短 viewDidLoad() 的程式</span>

<span class="hljs-keyword">let</span> codeButton:<span class="hljs-type">UIButton</span> = {
    <span class="hljs-comment">// 做一個system style 的 UIButton</span>
    <span class="hljs-keyword">let</span> newButton = <span class="hljs-type">UIButton</span>(type: .system)
    <span class="hljs-comment">// 設定按鈕的 x,y,width,height</span>
    newButton.frame = <span class="hljs-type">CGRect</span>(x: <span class="hljs-number">300</span>, y: <span class="hljs-number">50</span>, width: <span class="hljs-number">100</span>, height: <span class="hljs-number">50</span>)
    <span class="hljs-comment">// 設定按鈕各個狀態的文字</span>
    newButton.setTitle(<span class="hljs-string">"A"</span>, <span class="hljs-keyword">for</span>: .normal)
    newButton.setTitle(<span class="hljs-string">"B"</span>, <span class="hljs-keyword">for</span>: .highlighted)
    <span class="hljs-comment">// 新增按鈕的事件</span>
    newButton.addTarget(<span class="hljs-keyword">self</span>, action: #selector(<span class="hljs-type">ViewController</span>.hitMe(<span class="hljs-number">_</span>:)), <span class="hljs-keyword">for</span>: .touchUpInside)
    <span class="hljs-keyword">return</span> newButton
}()
<span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">viewDidLoad</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">super</span>.viewDidLoad()
    view.addSubview(codeButton)
}
</div></code></pre>
</li>
</ul>
</li>
<li>APP : 小小算命師
<ul>
<li>auto layout
<ul>
<li>OldMan:<code>UIImageView</code>
<ul>
<li>x : Horizontally in Container</li>
<li>y : Vertically in Container</li>
<li>height : equal to superview</li>
<li>width : Aspect Ratio</li>
</ul>
</li>
<li>helpView:<code>UIView</code>
<ul>
<li>x : align leading to safe area</li>
<li>y : align bottom to superview</li>
<li>height : proportional superview 240:1024</li>
<li>width : 240</li>
</ul>
</li>
<li>yourFortune:<code>UIImageView</code>
<ul>
<li>x : Horizontally in Container</li>
<li>y : bottom space to helpView</li>
<li>height : proportional superview 228:1024</li>
<li>width : Aspect Ratio</li>
</ul>
</li>
<li>viewForButton:<code>UIView</code>
<ul>
<li>x : align trailing to safe area</li>
<li>y : align bottom to superview</li>
<li>height : proportional superview 85:1024</li>
<li>width : 240</li>
</ul>
</li>
<li>Button:<code>UIButton</code>
<ul>
<li>x : Horizontally in Container</li>
<li>y : bottom space to viewForButton -8</li>
<li>height : proportional superview 85:1024</li>
<li>width : Aspect Ratio</li>
</ul>
</li>
</ul>
</li>
<li>code<pre class="hljs"><code><div><span class="hljs-keyword">import</span> UIKit
<span class="hljs-keyword">import</span> GameKit
<span class="hljs-keyword">import</span> AudioToolbox

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ViewController</span>: <span class="hljs-title">UIViewController</span> </span>{

    <span class="hljs-keyword">override</span> <span class="hljs-keyword">var</span> prefersStatusBarHidden: <span class="hljs-type">Bool</span>{
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
    }
    <span class="hljs-meta">@IBOutlet</span> <span class="hljs-keyword">weak</span> <span class="hljs-keyword">var</span> yourFortune: <span class="hljs-type">UIImageView</span>!
    <span class="hljs-meta">@IBAction</span> <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">tellMeSomething</span><span class="hljs-params">(<span class="hljs-number">_</span> sender: UIButton)</span></span> {
        <span class="hljs-keyword">if</span> yourFortune.isHidden == <span class="hljs-literal">true</span> {
            showAnswer()
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-comment">// 隱藏圖片</span>
            yourFortune.isHidden = <span class="hljs-literal">true</span>;
        }
    }
    
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">motionEnded</span><span class="hljs-params">(<span class="hljs-number">_</span> motion: UIEvent.EventSubtype, with event: UIEvent?)</span></span> {
        <span class="hljs-comment">// 如果搖晃手機執行</span>
        <span class="hljs-keyword">if</span> event?.subtype == .motionShake {
            showAnswer()
        }
    }
    
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">showAnswer</span><span class="hljs-params">()</span></span> {
        <span class="hljs-comment">// 做一個1到6的亂數</span>
        <span class="hljs-keyword">let</span> answer = <span class="hljs-type">GKRandomSource</span>.sharedRandom().nextInt(upperBound: <span class="hljs-number">6</span>)+<span class="hljs-number">1</span>
        <span class="hljs-comment">// 換圖</span>
        yourFortune.image = <span class="hljs-type">UIImage</span>(named: <span class="hljs-string">"<span class="hljs-subst">\(answer)</span>"</span>)
        yourFortune.isHidden = <span class="hljs-literal">false</span>
        <span class="hljs-comment">// 播放音效</span>
        <span class="hljs-type">AudioServicesPlaySystemSound</span>(<span class="hljs-number">1000</span>)
    }
    
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">viewDidLoad</span><span class="hljs-params">()</span></span> {
        <span class="hljs-keyword">super</span>.viewDidLoad()
        <span class="hljs-comment">// Do any additional setup after loading the view.</span>
    }
}
</div></code></pre>
</li>
<li>成品
<img src="2019-07-31.png" alt="">
<img src="2019-08-01.png" alt=""></li>
</ul>
</li>
</ul>
<h3 id="%E7%AC%AC%E5%8D%81%E4%B8%89%E7%AF%80-%E5%8D%94%E5%AE%9A">第十三節 協定</h3>
<ul>
<li>UIPickerView
<ol>
<li>在<code>main.storyboard</code>連結<code>PickerView</code>的<code>datasource</code>和<code>delegate</code>到<code>ViewController</code></li>
<li><code>ViewController.swift</code>加入以下協定<code>UIPickerViewDataSource</code>和<code>UIPickerViewDelegate</code></li>
<li>設定有幾個component</li>
<li>設定有每個component有幾個row</li>
<li>設定每個欄位的title</li>
<li>設定選擇這個component這個row要做的事情</li>
</ol>
<pre class="hljs"><code><div><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ViewController</span>: <span class="hljs-title">UIViewController</span>,<span class="hljs-title">UIPickerViewDataSource</span>,<span class="hljs-title">UIPickerViewDelegate</span> </span>{
    <span class="hljs-keyword">let</span> numberArray = [<span class="hljs-string">"1"</span>,<span class="hljs-string">"2"</span>,<span class="hljs-string">"3"</span>,<span class="hljs-string">"4"</span>,<span class="hljs-string">"5"</span>,<span class="hljs-string">"7"</span>,<span class="hljs-string">"8"</span>]
    <span class="hljs-keyword">let</span> fruitArray = [<span class="hljs-string">"apple"</span>,<span class="hljs-string">"banana"</span>,<span class="hljs-string">"mango"</span>,<span class="hljs-string">"watermalon"</span>]
    
    <span class="hljs-comment">// 設定有幾個component</span>
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">numberOfComponents</span><span class="hljs-params">(<span class="hljs-keyword">in</span> pickerView: UIPickerView)</span></span> -&gt; <span class="hljs-type">Int</span> {
        <span class="hljs-comment">// how many component in picker view</span>
        <span class="hljs-keyword">return</span> <span class="hljs-number">2</span>
    }
    
    <span class="hljs-comment">// 設定有每個component有幾個row</span>
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">pickerView</span><span class="hljs-params">(<span class="hljs-number">_</span> pickerView: UIPickerView, numberOfRowsInComponent component: Int)</span></span> -&gt; <span class="hljs-type">Int</span> {
        <span class="hljs-keyword">if</span> component == <span class="hljs-number">0</span> {
            <span class="hljs-keyword">return</span> numberArray.<span class="hljs-built_in">count</span>
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> fruitArray.<span class="hljs-built_in">count</span>
        }
    }
    
    <span class="hljs-comment">// 設定每個欄位的title</span>
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">pickerView</span><span class="hljs-params">(<span class="hljs-number">_</span> pickerView: UIPickerView, titleForRow row: Int, forComponent component: Int)</span></span> -&gt; <span class="hljs-type">String</span>? {
        <span class="hljs-keyword">if</span> component == <span class="hljs-number">0</span> {
            <span class="hljs-keyword">return</span> numberArray[row]
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> fruitArray[row]
        }
    }
    
    <span class="hljs-comment">// 設定選擇這個component這個row要做的事情</span>
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">pickerView</span><span class="hljs-params">(<span class="hljs-number">_</span> pickerView: UIPickerView, didSelectRow row: Int, inComponent component: Int)</span></span> {
        <span class="hljs-keyword">if</span> component == <span class="hljs-number">0</span>{
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"number: <span class="hljs-subst">\(numberArray[row])</span>"</span>)
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"fruit: <span class="hljs-subst">\(fruitArray[row])</span>"</span>)
        }
    }
    
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">viewDidLoad</span><span class="hljs-params">()</span></span> {
        <span class="hljs-keyword">super</span>.viewDidLoad()
        <span class="hljs-comment">// Do any additional setup after loading the view.</span>
    }
}
</div></code></pre>
</li>
<li>協定 portocol
<ul>
<li>服從協定要實作協定中的方法</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-class"><span class="hljs-keyword">protocol</span> <span class="hljs-title">SoyMilkGetable</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">giveMeSoyMilk</span><span class="hljs-params">()</span></span>
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Brunch</span>:<span class="hljs-title">SoyMilkGetable</span></span>{
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">giveMeSoyMilk</span><span class="hljs-params">()</span></span> {
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"Soy Milk"</span>)
    }
    
    
}

<span class="hljs-keyword">let</span> aBrunch = <span class="hljs-type">Brunch</span>()
aBrunch.giveMeSoyMilk()

<span class="hljs-class"><span class="hljs-keyword">protocol</span> <span class="hljs-title">MoneyTransferProtocol</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">giveMoney</span><span class="hljs-params">()</span></span>
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">RichPeople</span>:<span class="hljs-title">MoneyTransferProtocol</span></span>{
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">giveMoney</span><span class="hljs-params">()</span></span> {
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"Give you 100 dollars"</span>)
    }
}
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PoorGuy</span> </span>{
    <span class="hljs-keyword">var</span> helper:<span class="hljs-type">MoneyTransferProtocol</span>?
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">needMoney</span><span class="hljs-params">()</span></span>{
        helper?.giveMoney()
    }
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">NormalPeople</span>:<span class="hljs-title">MoneyTransferProtocol</span></span>{
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">giveMoney</span><span class="hljs-params">()</span></span> {
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"Give you 10 dollars"</span>)
    }
}

<span class="hljs-keyword">let</span> aPoorGuy = <span class="hljs-type">PoorGuy</span>()
<span class="hljs-keyword">let</span> aRichPeople = <span class="hljs-type">RichPeople</span>()
<span class="hljs-keyword">let</span> aNormalPeople = <span class="hljs-type">NormalPeople</span>()
aPoorGuy.helper = aNormalPeople
aPoorGuy.needMoney()
</div></code></pre>
<ul>
<li>上述PickerView運作邏輯類似於下</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-class"><span class="hljs-keyword">protocol</span> <span class="hljs-title">PickerViewDataSource</span></span>{
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">howManyComponent</span><span class="hljs-params">()</span></span>
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">howManyRow</span><span class="hljs-params">()</span></span>
    
}

<span class="hljs-class"><span class="hljs-keyword">protocol</span> <span class="hljs-title">PickerViewDelegate</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">titleToShow</span><span class="hljs-params">()</span></span>
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">didSelect</span><span class="hljs-params">()</span></span>
}
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ViewController</span>:<span class="hljs-title">PickerViewDataSource</span>,<span class="hljs-title">PickerViewDelegate</span></span>{
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">howManyComponent</span><span class="hljs-params">()</span></span> {
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"2"</span>)
    }
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">howManyRow</span><span class="hljs-params">()</span></span> {
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"10"</span>)
    }
    
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">titleToShow</span><span class="hljs-params">()</span></span> {
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"Hello"</span>)
    }
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">didSelect</span><span class="hljs-params">()</span></span> {
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"Select"</span>)
    }
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PickerView</span> </span>{
    <span class="hljs-keyword">var</span> dataSource:<span class="hljs-type">PickerViewDataSource</span>?
    <span class="hljs-keyword">var</span> delegate:<span class="hljs-type">PickerViewDelegate</span>?
    
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">howManyComponentIhave</span><span class="hljs-params">()</span></span> {
        dataSource?.howManyComponent()
    }
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">howManyRowIhave</span><span class="hljs-params">()</span></span> {
        dataSource?.howManyRow()
    }
    
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">whatToShow</span><span class="hljs-params">()</span></span> {
        delegate?.titleToShow()
    }
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">afterSelect</span><span class="hljs-params">()</span></span> {
        delegate?.didSelect()
    }
}
<span class="hljs-keyword">let</span> aPickerView = <span class="hljs-type">PickerView</span>()
<span class="hljs-keyword">let</span> aViewController = <span class="hljs-type">ViewController</span>()
aPickerView.dataSource = aViewController
aPickerView.delegate = aViewController

aPickerView.howManyComponentIhave()
aPickerView.howManyRowIhave()

aPickerView.whatToShow()
aPickerView.afterSelect()
</div></code></pre>
</li>
<li>protocol oriented programming
<ul>
<li>優點
<ol>
<li>可以服從多個協定</li>
<li>保證一定會實作</li>
<li>某幾個子類別有相同的方法</li>
</ol>
</li>
<li>protocol vs object</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-comment">// protocol oriented programming</span>
<span class="hljs-class"><span class="hljs-keyword">protocol</span> <span class="hljs-title">ManKindType</span></span>{
    <span class="hljs-keyword">var</span> health:<span class="hljs-type">Int</span>{ <span class="hljs-keyword">get</span> <span class="hljs-keyword">set</span> }
}
<span class="hljs-class"><span class="hljs-keyword">protocol</span> <span class="hljs-title">Attackable</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">attack</span><span class="hljs-params">(target:Hurtable)</span></span>
}
<span class="hljs-class"><span class="hljs-keyword">protocol</span> <span class="hljs-title">Hurtable</span>:<span class="hljs-title">ManKindType</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">getHurt</span><span class="hljs-params">()</span></span>
}
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Man</span>:<span class="hljs-title">ManKindType</span>,<span class="hljs-title">Hurtable</span></span>{
    <span class="hljs-keyword">var</span> health:<span class="hljs-type">Int</span>
    <span class="hljs-keyword">init</span>(){
        health = <span class="hljs-number">10</span>
    }
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">getHurt</span><span class="hljs-params">()</span></span> {
        health -= <span class="hljs-number">10</span>
    }
}
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BatMan</span>:<span class="hljs-title">ManKindType</span>,<span class="hljs-title">Hurtable</span>,<span class="hljs-title">Attackable</span></span>{
    <span class="hljs-keyword">var</span> health: <span class="hljs-type">Int</span>
    <span class="hljs-keyword">init</span>(){
        health = <span class="hljs-number">1000</span>
    }
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">getHurt</span><span class="hljs-params">()</span></span> {
        health -= <span class="hljs-number">5</span>
    }
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">attack</span><span class="hljs-params">(target:Hurtable)</span></span> {
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"attack with fist"</span>)
        target.getHurt()
    }
}
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SuperMan</span>:<span class="hljs-title">ManKindType</span>,<span class="hljs-title">Hurtable</span>,<span class="hljs-title">Attackable</span></span>{
    <span class="hljs-keyword">var</span> health: <span class="hljs-type">Int</span>
    <span class="hljs-keyword">init</span>() {
        health = <span class="hljs-number">10000</span>
    }
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">getHurt</span><span class="hljs-params">()</span></span> {
        health -= <span class="hljs-number">1</span>
    }
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">attack</span><span class="hljs-params">(target:Hurtable)</span></span> {
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"attack with eye laser"</span>)
        target.getHurt()
    }
}
<span class="hljs-comment">// object oriented programming</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Man</span></span>{
    <span class="hljs-keyword">var</span> health:<span class="hljs-type">Int</span>
    <span class="hljs-keyword">init</span>(){
        health = <span class="hljs-number">10</span>
    }
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">getHurt</span><span class="hljs-params">()</span></span> {
        health -= <span class="hljs-number">10</span>
    }
}
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BatMan</span>:<span class="hljs-title">Man</span></span>{
    <span class="hljs-keyword">override</span> <span class="hljs-keyword">init</span>(){
        <span class="hljs-keyword">super</span>.<span class="hljs-keyword">init</span>()
        health = <span class="hljs-number">1000</span>
    }
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">getHurt</span><span class="hljs-params">()</span></span> {
        health -= <span class="hljs-number">5</span>
    }
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">attack</span><span class="hljs-params">()</span></span> {
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"attack with fist"</span>)
    }
}
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SuperMan</span>:<span class="hljs-title">Man</span></span>{
    <span class="hljs-keyword">override</span> <span class="hljs-keyword">init</span>() {
        <span class="hljs-keyword">super</span>.<span class="hljs-keyword">init</span>()
        health = <span class="hljs-number">10000</span>
    }
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">getHurt</span><span class="hljs-params">()</span></span> {
        health -= <span class="hljs-number">1</span>
    }
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">attack</span><span class="hljs-params">()</span></span> {
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"attack with eye laser"</span>)
    }
}
</div></code></pre>
</li>
<li>view life cycle
<ul>
<li>loadView : 用程式碼產生畫面</li>
<li>viewDidLoad : 讀入畫面之後執行</li>
<li>viewWillAppear : 畫面即將顯示到螢幕上</li>
<li>viewDidAppear : 畫面已經顯示到螢幕上</li>
<li>viewWillDisappear : 畫面即將離開螢幕</li>
<li>viewDidDisappear : 畫面已經離開螢幕</li>
</ul>
</li>
<li>開啟APP後會做的事
<ol>
<li>app:did finish launching</li>
<li>view Did Load</li>
<li>view Will Appear</li>
<li>view Did Appear</li>
<li>app:did become active</li>
</ol>
</li>
</ul>
<hr>
<h1 id="20190816">2019.08.16</h1>
<h3 id="%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AF%80-%E5%A4%9A%E5%AA%92%E9%AB%94%EF%BC%9A%E6%92%AD%E6%94%BE%E9%9F%B3%E6%A8%82">第十四節 多媒體：播放音樂</h3>
<ul>
<li>enum(列舉):enumberation
<ul>
<li>已知型別可以省略型別</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-comment">// 宣告列舉</span>
<span class="hljs-class"><span class="hljs-keyword">enum</span> <span class="hljs-title">Direction</span></span>{
    <span class="hljs-keyword">case</span> east
    <span class="hljs-keyword">case</span> west
    <span class="hljs-keyword">case</span> south
    <span class="hljs-keyword">case</span> north
}
<span class="hljs-comment">// 因為myDirection有宣告型別Direction，所以後面的Direction.north可以省略為.north</span>
<span class="hljs-keyword">let</span> myDirection:<span class="hljs-type">Direction</span> = .north

<span class="hljs-comment">// 以下為沒有enum的程式寫法</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">whichDirectionToGo</span><span class="hljs-params">(direction:String)</span></span> {
    <span class="hljs-keyword">if</span> direction == <span class="hljs-string">"east"</span> {
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"go east"</span>);
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> direction == <span class="hljs-string">"west"</span> {
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"go west"</span>);
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> direction == <span class="hljs-string">"south"</span> {
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"go south"</span>);
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> direction == <span class="hljs-string">"north"</span> {
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"go north"</span>);
    }
}
<span class="hljs-comment">// 這種寫法有時會不小心打錯字，造成錯誤</span>
whichDirectionToGo(direction: <span class="hljs-string">"esat"</span>)

<span class="hljs-comment">// 以下為enum寫法</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">whichDirectionToGo</span><span class="hljs-params">(direction:Direction)</span></span> {
    <span class="hljs-keyword">if</span> direction == .east {
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"go east"</span>);
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> direction == .west {
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"go west"</span>);
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> direction == .south {
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"go south"</span>);
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> direction == .north {
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"go north"</span>);
    }
}
<span class="hljs-comment">// 這種寫法可以用.然後再選擇，就不會有打錯字的問題</span>
whichDirectionToGo(direction: myDirection)
whichDirectionToGo(direction: .south)

<span class="hljs-keyword">import</span> UIKit
<span class="hljs-comment">// 之前用到的UIAlertController()就有用到.alert即是UIAlertController.Style.alert之縮寫</span>
<span class="hljs-type">UIAlertController</span>(title: <span class="hljs-string">"hello"</span>, message: <span class="hljs-literal">nil</span>, preferredStyle: <span class="hljs-type">UIAlertController</span>.<span class="hljs-type">Style</span>.alert)
<span class="hljs-type">UIAlertController</span>(title: <span class="hljs-string">"hello"</span>, message: <span class="hljs-literal">nil</span>, preferredStyle: .alert)

</div></code></pre>
</li>
<li>錯誤處理
<ul>
<li>有<code>throws</code>的方法，要配合<code>try</code>,<code>do</code>,<code>catch</code>使用</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-class"><span class="hljs-keyword">enum</span> <span class="hljs-title">NameInputError</span>:<span class="hljs-title">Error</span></span>{
    <span class="hljs-keyword">case</span> empty
    <span class="hljs-keyword">case</span> isNumber
    
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">getUserFullname</span><span class="hljs-params">(firstname:String,lastname:String)</span></span> <span class="hljs-keyword">throws</span> -&gt; <span class="hljs-type">String</span>{
    <span class="hljs-keyword">if</span> firstname == <span class="hljs-string">""</span>||lastname == <span class="hljs-string">""</span>{
        <span class="hljs-keyword">throw</span> <span class="hljs-type">NameInputError</span>.empty
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> <span class="hljs-type">Int</span>(firstname) != <span class="hljs-literal">nil</span> || <span class="hljs-type">Int</span>(lastname) != <span class="hljs-literal">nil</span>{
        <span class="hljs-keyword">throw</span> <span class="hljs-type">NameInputError</span>.isNumber
    }
    <span class="hljs-keyword">let</span> fullname = firstname + <span class="hljs-string">" "</span> + lastname
    <span class="hljs-keyword">return</span> fullname
}

<span class="hljs-keyword">do</span>{
    <span class="hljs-keyword">try</span> getUserFullname(firstname: <span class="hljs-string">"ian"</span>, lastname: <span class="hljs-string">""</span>)
}<span class="hljs-keyword">catch</span> <span class="hljs-type">NameInputError</span>.empty{
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"empty name"</span>)
}<span class="hljs-keyword">catch</span> <span class="hljs-type">NameInputError</span>.isNumber{
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"input some number"</span>)
}<span class="hljs-keyword">catch</span> {
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"something is wrong"</span>)
}
<span class="hljs-comment">// output: empty name</span>
</div></code></pre>
</li>
<li>播放音效
<ol>
<li><code>import AVFoundation</code></li>
<li>找到音檔路徑</li>
<li><code>URL(fileURLWithPath: path)</code></li>
<li>make an <code>audioPlayer:AVAudioPlayer?</code></li>
<li>調整參數
<ul>
<li>調整音樂播放速度</li>
<li>重複播放音樂的次數</li>
<li>調整音量</li>
</ul>
</li>
</ol>
<ul>
<li>用按鈕播放時，若要每次按下都重頭播放，需先停止上次的播放，將<code>currentTime</code>設為0，再播放</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> UIKit
<span class="hljs-comment">// 引入這個函式庫方便播放音效</span>
<span class="hljs-keyword">import</span> AVFoundation

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ViewController</span>: <span class="hljs-title">UIViewController</span> </span>{

    <span class="hljs-keyword">var</span> audioPlayer:<span class="hljs-type">AVAudioPlayer</span>?
    <span class="hljs-meta">@IBAction</span> <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">play</span><span class="hljs-params">(<span class="hljs-number">_</span> sender: UIButton)</span></span> {
        audioPlayer?.stop()
        audioPlayer?.currentTime = <span class="hljs-number">0.0</span>
        audioPlayer?.play()
    }
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">viewDidLoad</span><span class="hljs-params">()</span></span> {
        <span class="hljs-keyword">super</span>.viewDidLoad()
        <span class="hljs-comment">// 找到音檔路徑</span>
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> path = <span class="hljs-type">Bundle</span>.main.path(forResource: <span class="hljs-string">"Right"</span>, ofType: <span class="hljs-string">"mp3"</span>){
            <span class="hljs-comment">// path to url</span>
            <span class="hljs-keyword">let</span> url = <span class="hljs-type">URL</span>(fileURLWithPath: path)
            <span class="hljs-comment">// make an audio player</span>
            <span class="hljs-keyword">do</span>{
                audioPlayer = <span class="hljs-keyword">try</span> <span class="hljs-type">AVAudioPlayer</span>(contentsOf: url)
                <span class="hljs-comment">// 調整音樂播放速度</span>
                <span class="hljs-comment">// 1. 開啟enableRate</span>
                <span class="hljs-comment">// 2. 調整rate</span>
                audioPlayer?.enableRate = <span class="hljs-literal">true</span>
                <span class="hljs-comment">// audioPlayer?.rate = 0.5</span>
                
                <span class="hljs-comment">// 重複播放音樂的次數</span>
                <span class="hljs-comment">// 預設為0  =&gt; 播放1次</span>
                <span class="hljs-comment">// 調整為1  =&gt; 播放2次</span>
                <span class="hljs-comment">// 調整為-1 =&gt; 不斷播放</span>
                audioPlayer?.numberOfLoops = -<span class="hljs-number">1</span>;
                
                <span class="hljs-comment">// 調整音量</span>
                <span class="hljs-comment">// 預設為1</span>
                audioPlayer?.volume = <span class="hljs-number">0.3</span>
            }<span class="hljs-keyword">catch</span> {
                <span class="hljs-built_in">print</span>(error.localizedDescription)
            }
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"no such file"</span>)
        }
        <span class="hljs-comment">// 上述if optional binding可以寫成下面這樣</span>
        <span class="hljs-comment">// 差別是if 的 path可視範圍較小</span>
        <span class="hljs-comment">// guard 的 newPath可視範圍較大</span>
        <span class="hljs-keyword">guard</span> <span class="hljs-keyword">let</span> newPath = <span class="hljs-type">Bundle</span>.main.path(forResource: <span class="hljs-string">"Right"</span>, ofType: <span class="hljs-string">"mp3"</span>) <span class="hljs-keyword">else</span> {
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"no such file"</span>)
            <span class="hljs-keyword">return</span>
        }
        <span class="hljs-keyword">do</span>{
            audioPlayer = <span class="hljs-keyword">try</span> <span class="hljs-type">AVAudioPlayer</span>(contentsOf: <span class="hljs-type">URL</span>(fileURLWithPath: newPath))
        }<span class="hljs-keyword">catch</span> {
            <span class="hljs-built_in">print</span>(error.localizedDescription)
        }
    }
}
</div></code></pre>
</li>
</ul>
<hr>
<h3 id="%E7%AC%AC%E5%8D%81%E4%BA%94%E7%AF%80-%E5%9C%B0%E5%9C%96%E8%88%87%E7%89%A9%E4%BB%B6%E5%B0%8E%E5%90%91%E7%A8%8B%E5%BC%8F%E8%A8%AD%E8%A8%88%E4%B8%8B">第十五節 地圖與物件導向程式設計(下)</h3>
<ul>
<li>
<p>結構(struct)</p>
<ul>
<li>基本寫法</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Size</span></span>{
    <span class="hljs-keyword">var</span> width:<span class="hljs-type">Float</span> = <span class="hljs-number">5.0</span>
    <span class="hljs-keyword">var</span> height:<span class="hljs-type">Float</span> = <span class="hljs-number">8.0</span>
    
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">area</span><span class="hljs-params">()</span></span>-&gt;<span class="hljs-type">Float</span>{
        <span class="hljs-keyword">return</span> width*height;
    }
}
<span class="hljs-comment">//不用init()</span>
<span class="hljs-keyword">var</span> aSize:<span class="hljs-type">Size</span> = <span class="hljs-type">Size</span>(width: <span class="hljs-number">20.3</span>, height: <span class="hljs-number">45.6</span>)

aSize.width
aSize.height = <span class="hljs-number">12.3</span>

<span class="hljs-keyword">var</span> newSize = <span class="hljs-type">Size</span>()
newSize.area()

<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Name</span></span>{
    <span class="hljs-keyword">var</span> firstname:<span class="hljs-type">String</span>
    <span class="hljs-keyword">var</span> lastname:<span class="hljs-type">String</span>
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">fullname</span><span class="hljs-params">()</span></span>-&gt;<span class="hljs-type">String</span>{
        <span class="hljs-keyword">return</span> firstname+<span class="hljs-string">" "</span>+lastname
    }
}

<span class="hljs-keyword">let</span> myName = <span class="hljs-type">Name</span>(firstname: <span class="hljs-string">"ian"</span>, lastname: <span class="hljs-string">"lu"</span>)
myName.fullname()

</div></code></pre>
<ul>
<li><code>struct</code> 與 <code>class</code>不同之處
<ol>
<li><code>struct</code>不能有子類別<code>class</code>可以</li>
<li><code>struct</code>是<code>value type</code>，<code>class</code>是<code>refernce type</code></li>
<li><code>struct</code>儲存簡單資料;<code>class</code>儲存與操作資料</li>
</ol>
</li>
</ul>
</li>
<li>
<p>實機測試</p>
<ol>
<li>更新iPhone作業系統到最新</li>
<li>接線</li>
<li>xcode 上選手機</li>
<li>等 5-10 分鐘</li>
</ol>
</li>
<li>
<p>地圖</p>
<ul>
<li>大頭針</li>
<li>長按</li>
<li>設定地圖region方法
<ol>
<li>設定緯度 <code>latitude:CLLocationDegrees</code></li>
<li>設定經度 <code>longitude:CLLocationDegrees</code></li>
<li>利用緯度和經度生成 <code>location:CLLocationCoordinate2D</code></li>
<li>設定x方向放大倍率 <code>xScale:CLLocationDegrees</code></li>
<li>設定y方向放大倍率 <code>yScale:CLLocationDegrees</code></li>
<li>利用x,y放大倍率生成 <code>span:MKCoordinateSpan</code></li>
<li>利用location,span生成 <code>region:MKCoordinateRegion</code></li>
<li>設定地圖的region <code>map.setRegion()</code><img src="2019-08-16-01.png" alt=""></li>
</ol>
</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> UIKit
<span class="hljs-keyword">import</span> MapKit

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ViewController</span>: <span class="hljs-title">UIViewController</span> </span>{
    <span class="hljs-meta">@IBOutlet</span> <span class="hljs-keyword">weak</span> <span class="hljs-keyword">var</span> <span class="hljs-built_in">map</span>: <span class="hljs-type">MKMapView</span>!
    
    
    <span class="hljs-comment">// 長按執行</span>
    <span class="hljs-comment">// 1. storyboard 加入 LongPressGestureRecognizer</span>
    <span class="hljs-comment">// 2. action 連結到ViewController</span>
    <span class="hljs-meta">@IBAction</span> <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">addMeAnnotation</span><span class="hljs-params">(<span class="hljs-number">_</span> sender: UILongPressGestureRecognizer)</span></span> {
        <span class="hljs-keyword">let</span> touchPoint = sender.location(<span class="hljs-keyword">in</span>: <span class="hljs-built_in">map</span>)
        <span class="hljs-keyword">let</span> touchCoordinate:<span class="hljs-type">CLLocationCoordinate2D</span> = <span class="hljs-built_in">map</span>.convert(touchPoint, toCoordinateFrom: <span class="hljs-built_in">map</span>)
        
        <span class="hljs-comment">// 建立大頭針</span>
        <span class="hljs-keyword">let</span> annotation = <span class="hljs-type">MKPointAnnotation</span>()
        annotation.coordinate = touchCoordinate
        annotation.title = <span class="hljs-string">"新的地點"</span>
        annotation.subtitle = <span class="hljs-string">"這是哪裡？"</span>
        <span class="hljs-built_in">map</span>.addAnnotation(annotation);
        
    }
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">viewDidLoad</span><span class="hljs-params">()</span></span> {
        <span class="hljs-keyword">super</span>.viewDidLoad()
        <span class="hljs-comment">// Do any additional setup after loading the view.</span>
        <span class="hljs-keyword">let</span> latitude:<span class="hljs-type">CLLocationDegrees</span> = <span class="hljs-number">24.746211</span>
        <span class="hljs-keyword">let</span> longitude:<span class="hljs-type">CLLocationDegrees</span> = <span class="hljs-number">121.748843</span>
        <span class="hljs-keyword">let</span> location:<span class="hljs-type">CLLocationCoordinate2D</span> = <span class="hljs-type">CLLocationCoordinate2D</span>(latitude: latitude, longitude: longitude)
        
        <span class="hljs-keyword">let</span> xScale:<span class="hljs-type">CLLocationDegrees</span> = <span class="hljs-number">0.005</span>
        <span class="hljs-keyword">let</span> yScale:<span class="hljs-type">CLLocationDegrees</span> = <span class="hljs-number">0.005</span>
        <span class="hljs-keyword">let</span> span:<span class="hljs-type">MKCoordinateSpan</span> = <span class="hljs-type">MKCoordinateSpan</span>(latitudeDelta: yScale, longitudeDelta: xScale)
        
        <span class="hljs-keyword">let</span> region:<span class="hljs-type">MKCoordinateRegion</span> = <span class="hljs-type">MKCoordinateRegion</span>(center: location, span: span)
        <span class="hljs-comment">// 設定地圖區域</span>
        <span class="hljs-built_in">map</span>.setRegion(region, animated: <span class="hljs-literal">true</span>)
        <span class="hljs-comment">// 設定顯示模式</span>
        <span class="hljs-built_in">map</span>.mapType = .standard
        
        <span class="hljs-keyword">let</span> annotation = <span class="hljs-type">MKPointAnnotation</span>()
        annotation.coordinate = location
        annotation.title = <span class="hljs-string">"宜蘭大學"</span>
        annotation.subtitle = <span class="hljs-string">"我就讀的學校"</span>
        <span class="hljs-built_in">map</span>.addAnnotation(annotation);
        
    }
}
</div></code></pre>
<ul>
<li>顯示地圖，長按顯示大頭針
<img src="2019-08-16-02.png" alt=""></li>
</ul>
</li>
<li>
<p>追蹤使用者位置</p>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> UIKit
<span class="hljs-keyword">import</span> MapKit
<span class="hljs-comment">// 追蹤location需引入</span>
<span class="hljs-keyword">import</span> CoreLocation

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ViewController</span>: <span class="hljs-title">UIViewController</span>,<span class="hljs-title">CLLocationManagerDelegate</span> </span>{
    <span class="hljs-meta">@IBOutlet</span> <span class="hljs-keyword">weak</span> <span class="hljs-keyword">var</span> <span class="hljs-built_in">map</span>: <span class="hljs-type">MKMapView</span>!
    
    <span class="hljs-keyword">var</span> locationManager:<span class="hljs-type">CLLocationManager</span>?


    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">viewDidLoad</span><span class="hljs-params">()</span></span> {
        <span class="hljs-keyword">super</span>.viewDidLoad()
        <span class="hljs-comment">// Do any additional setup after loading the view.</span>
        locationManager = <span class="hljs-type">CLLocationManager</span>()
        <span class="hljs-comment">// 要求使用者授權</span>
        <span class="hljs-comment">// 要先在info.plist新增</span>
        <span class="hljs-comment">// Privacy - Location When In Use Usage Description</span>
        <span class="hljs-comment">// 並寫上我們需要授權的理由</span>
        <span class="hljs-comment">// get location info to show you good services</span>
        locationManager?.requestWhenInUseAuthorization()
        
        <span class="hljs-comment">// 設定self是locationManager的delegate</span>
        <span class="hljs-comment">// self需先服從CLLocationManagerDelegate</span>
        locationManager?.delegate = <span class="hljs-keyword">self</span>
        <span class="hljs-comment">// 設定精準度，有 ... 等</span>
        <span class="hljs-comment">// kCLLocationAccuracyBest</span>
        <span class="hljs-comment">// kCLLocationAccuracyKilometer</span>
        <span class="hljs-comment">// kCLLocationAccuracyHundredMeters</span>
        locationManager?.desiredAccuracy = kCLLocationAccuracyBest
        
        <span class="hljs-comment">// 追蹤模式</span>
        <span class="hljs-comment">// apple會依據不同模式調整省電模式</span>
        locationManager?.activityType = .automotiveNavigation
        <span class="hljs-comment">// 開始更新location</span>
        locationManager?.startUpdatingLocation()
        
        
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> coordinate = locationManager?.location?.coordinate{
		
            <span class="hljs-keyword">let</span> xScale:<span class="hljs-type">CLLocationDegrees</span> = <span class="hljs-number">0.01</span>
            <span class="hljs-keyword">let</span> yScale:<span class="hljs-type">CLLocationDegrees</span> = <span class="hljs-number">0.01</span>
            <span class="hljs-keyword">let</span> span:<span class="hljs-type">MKCoordinateSpan</span> = <span class="hljs-type">MKCoordinateSpan</span>(latitudeDelta: yScale, longitudeDelta: xScale)
            <span class="hljs-keyword">let</span> region = <span class="hljs-type">MKCoordinateRegion</span>(center: coordinate, span: span)
            <span class="hljs-built_in">map</span>.setRegion(region, animated: <span class="hljs-literal">true</span>)
        }
        <span class="hljs-built_in">map</span>.userTrackingMode = .followWithHeading
    }
    
    <span class="hljs-comment">// 取得目前座標</span>
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">locationManager</span><span class="hljs-params">(<span class="hljs-number">_</span> manager: CLLocationManager, didUpdateLocations locations: [CLLocation])</span></span> {
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"---------------"</span>)
        <span class="hljs-built_in">print</span>(locations[<span class="hljs-number">0</span>].coordinate.latitude)
        <span class="hljs-built_in">print</span>(locations[<span class="hljs-number">0</span>].coordinate.longitude)
    }
    <span class="hljs-comment">// 離開畫面時</span>
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">viewDidDisappear</span><span class="hljs-params">(<span class="hljs-number">_</span> animated: Bool)</span></span> {
        <span class="hljs-comment">// 停止更新使用者座標</span>
        locationManager?.stopUpdatingLocation()
    }
}
</div></code></pre>
<ul>
<li>請求授權</li>
</ul>
<p><img src="2019-08-16-03.png" alt=""></p>
<ul>
<li>追蹤位置</li>
</ul>
<p><img src="2019-08-16-04.png" alt=""></p>
</li>
</ul>

</body>
</html>
